{"version":3,"sources":["Map.js","Grid.js","Graph.js","components/Title.js","Drawer.js","components/Login/Login.js","components/Register/create.js","components/Logout.js","App.js","Home.js","serviceWorker.js","index.js"],"names":["style","width","height","window","geojsonLayer","lfMap","map","legend","L","control","position","onAdd","div","DomUtil","create","innerHTML","MapData","props","state","data","renderLegend","toposkaermkortwmts","tileLayer","wms","layers","token","format","attribution","kommuneWms","transparent","minZoom","center","zoom","scale","addTo","undefined","removeLayer","geoJSON","onEachFeature","feature","layer","bindPopup","properties","status","navn","pointToLayer","latlng","marker","icon","iconUrl","imgUrl","selector","shadowUrl","iconAnchor","shadowAnchor","popupAnchor","centerCoords","features","filter","includes","length","geometry","coordinates","getCenterPoint","setView","fitBounds","getBounds","this","renderMap","renderFeatures","console","log","id","React","Component","StatusFormatter","value","color","StatusTypeProvider","formatterComponent","PnummerFormatter","link","href","target","rel","PnummerProvider","getRowId","row","GridData","rows","sorting","columnName","direction","statusColumns","pcols","grouping","changeSorting","setState","changeGrouping","updateData","total","totalRendered","pc","index","s","replace","Paper","textAlign","columns","name","title","defaultFilters","defaultSorting","for","defaultColumnWidths","showSortingControls","filteredRows","PureComponent","GraphData","clicked","fill","catData","dat","tilfl","x","y","getSummaryData","margin","theme","VictoryTheme","material","domainPadding","barWidth","dataComponent","events","onMouseOver","fillColor","d","datum","labels","Title","Typography","variant","useStyles","makeStyles","list","fullList","nested","paddingLeft","TemporaryDrawer","classes","handleDrawer","filterCols","handleCheckedFilters","reset","doFilter","filterWords","useState","postdistrikt","postnummer","opened","setOpened","Drawer","anchor","open","drawerOpen","onClose","categories","cols","comps","forEach","categorie","key","col","ListItem","button","className","ListItemText","primary","Object","keys","ListItemSecondaryAction","Checkbox","checked","values","onChange","e","edge","_list","role","List","ListItemIcon","Button","size","onClick","dense","text","Fragment","handleClick","Collapse","in","timeout","unmountOnExit","component","disablePadding","sideList","root","flexGrow","container","display","flexWrap","textField","marginLeft","spacing","marginRight","LoginComponent","loginData","handleInputChange","handleLoginDatachange","errorMessage","Grid","item","xs","InputLabel","TextField","label","placeholder","InputLabelProps","shrink","user","error","helperText","type","password","Alert","elevation","CreateUserDialog","email","organisation","password2","consent","btnDisabled","userInfo","setUserInfo","displayError","event","handleDialogClose","handleCreateDialogClose","Dialog","isRegisterFormShown","aria-labelledby","DialogTitle","DialogContent","DialogContentText","severity","autoFocus","fullWidth","FormControlLabel","FormHelperText","DialogActions","justifyContent","disabled","handleRegister","StyledMenu","withStyles","paper","border","Menu","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","StyledMenuItem","backgroundColor","palette","main","common","white","MenuItem","Logout","anchorEl","setAnchorEl","IconButton","aria-controls","aria-haspopup","currentTarget","keepMounted","Boolean","handleLogout","moment","locale","ExcelFile","ReactExport","ExcelSheet","ExcelColumn","createMuiTheme","typography","useNextVariants","suppressDeprecationWarnings","uniqueValuesGroupedByKey","arrOfObj","ret","uniqueElemsOfSameKey","_arrOfObj","colValues","elem","Set","TabContainer","children","App","startDate","subtract","startOf","endDate","endOf","kommuner","komkode","komnr","csvData","loading","completed","canSendRequest","filterOpen","alertOpen","alertMessage","uniqueVals","dataToRender","isLoginShown","sessionId","sessionStorage","getItem","registrationErrorMessage","loginErrorMessage","handleChange","bind","handleStart","handleEnd","handleSelect","handleDoneClick","handleFilterOpen","handleFilterClose","handleDrawerOpen","updateRenderDataFromTable","onAlertClose","handleCreateDialogOpen","handleLogin","db","filteredCategories","filters","cat","temp","obj","res","indexOf","message","split","group","checkedGroup","indexToUpdate","findIndex","elementToUpdate","slice","that","jQuery","get","success","removeItem","komUrl","ajax","url","dataType","koms","preveState","_loginData","database","setItem","session_id","fail","userObj","subuser","usergroup","parentdb","org","post","JSON","stringify","responseJSON","getErrorMessage","errorCode","postData","startdate","enddate","jsonData","csv","form","virksomhedsform","getVirkForm","_startdato","startdato","substring","prevState","persist","getData","getKommuner","navigate","date","AppBar","Toolbar","Login","Link","underline","classnames","noValidate","autoComplete","select","SelectProps","native","kom","komnavn","utils","MomentUtils","DatePicker","arial-label","Tooltip","element","filename","Tabs","centered","Tab","aria-label","Graph","marginTop","menu","progress","source","createHashSource","history","createHistory","Home","path","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"q+BAGMA,EAAQ,CACZC,MAAO,OACPC,OAAQ,UAKVC,OAAOC,kBAFHA,EAGJD,OAAOE,WAFHC,EAIJ,IAAIC,EAASC,IAAEC,QAAQ,CAAEC,SAAU,eACnCH,EAAOI,MAAQ,SAAUL,GACvB,IAAIM,EAAMJ,IAAEK,QAAQC,OAAO,MAAO,UASlC,OARAF,EAAIG,WAAa,8BACjBH,EAAIG,WACF,+DACFH,EAAIG,WACF,gEACFH,EAAIG,WACF,gEACFH,EAAIG,WAAa,+DACVH,G,IAuLMI,E,kDAnLb,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CACXC,KAAM,GACNC,cAAc,GAJC,E,sDAQTD,GACR,IAGIE,EAAqBb,IAAEc,UAAUC,IACnC,yFACA,CACEC,OAAQ,yBACRC,MALU,mCAMVC,OAAQ,YACRC,YARF,+JAYEC,EAAapB,IAAEc,UAAUC,IAC3B,wGAEA,CACEC,OAAQ,mBACRE,OAAQ,YACRD,MAAO,mCACPI,aAAa,EACbC,QAAS,KAIb3B,OAAOE,MAAQG,IAAEF,IAAI,MAAO,CAC1ByB,OAAQ,CAAC,UAAW,UACpBC,KAAM,EACNR,OAAQ,CAACH,EAAoBO,KAG/BpB,IAAEC,QAAQwB,QAAQC,MAAM/B,OAAOE,S,qCAElBc,GACbZ,EAAO2B,MAAM/B,OAAOE,YA2BQ8B,IAAxBhC,OAAOC,cACTD,OAAOE,MAAM+B,YAAYjC,OAAOC,cAsBlCD,OAAOC,aAAeI,IAAE6B,QAAQlB,EAAM,CACpCmB,cAbF,SAAuBC,EAASC,GAC9BA,EAAMC,UACJ,WACEF,EAAQG,WAAWC,OACnB,qBACAJ,EAAQG,WAAWE,KACnB,sFACAL,EAAQG,WAAW,YACnB,sCAMJG,aAAc,SAAUN,EAASO,GAC/B,OAAOtC,IAAEuC,OAAOD,EAAQ,CACtBE,MArDqBL,EAqDJJ,EAAQG,WAAWC,OApCjCnC,IAAEwC,KAAK,CACZC,QAjBF,SAAkBN,GAChB,IAAMO,EACJ,sEACF,OAAQP,GACN,IAAK,aACH,OAAOO,EAAS,YAClB,IAAK,aACH,OAAOA,EAAS,YAClB,IAAK,YACH,OAAOA,EAAS,YAClB,IAAK,YACH,OAAOA,EAAS,aAMXC,CAASR,GAClBS,UAAW,iBACXC,WAAY,CAAC,GAAI,IACjBC,aAAc,CAAC,GAAI,IACnBC,YAAa,CAAC,GAAI,SAtBL,IAAUZ,KAwDxBT,MAAM/B,OAAOE,OAEhB,IAAImD,EA5BJ,SAAwBrC,GACtB,IAAIsC,EAAWtC,EAAKuC,QAAO,SAACnB,GAAD,MACzB,CAAC,YAAa,IAAIoB,SAASpB,EAAQG,WAAWC,WAEhD,OAAwB,IAApBc,EAASG,OAAqB,KAC3BH,EAAS,GAAGI,SAASC,YAuBXC,CAAe5C,GAC9BqC,EACFrD,OAAOE,MAAM2D,QAAQ,CAACR,EAAa,GAAIA,EAAa,IAAK,IACtDrD,OAAOE,MAAM4D,UAAU9D,OAAOC,aAAa8D,e,0CAGhDC,KAAKC,UAAUD,KAAKlD,MAAME,MACtBgD,KAAKlD,MAAME,KAAKyC,OAAS,GAC3BO,KAAKE,eAAeF,KAAKlD,MAAME,Q,2CAKjCmD,QAAQC,IAAI,sBACRJ,KAAKlD,MAAME,KAAKyC,OAAS,EAC3BO,KAAKE,eAAeF,KAAKlD,MAAME,MAE/BmD,QAAQC,IAAI,iB,oCAIFpD,QAwBgBgB,IAAxBhC,OAAOC,cACTD,OAAOE,MAAM+B,YAAYjC,OAAOC,cAgBlCD,OAAOC,aAAeI,IAAE6B,QAAQlB,EAAM,CACpCmB,cAdF,SAAuBC,EAASC,GAC9B8B,QAAQC,IAAI,2BACZ/B,EAAMC,UACJ,WACEF,EAAQG,WAAWC,OACnB,qBACAJ,EAAQG,WAAWE,KACnB,sFACAL,EAAQG,WAAW,YACnB,sCAMJG,aAAc,SAAUN,EAASO,GAC/B,OAAOtC,IAAEuC,OAAOD,EAAQ,CACtBE,MA5CqBL,EA4CJJ,EAAQG,WAAWC,OA7BjCnC,IAAEwC,KAAK,CACZC,QAfF,SAAkBN,GAChB,OAAQA,GACN,IAAK,aACH,MAAO,YACT,IAAK,aACH,MAAO,YACT,IAAK,YACH,MAAO,YACT,IAAK,YACH,MAAO,aAMFQ,CAASR,GAClBS,UAAW,iBACXC,WAAY,CAAC,GAAI,IACjBC,aAAc,CAAC,GAAI,IACnBC,YAAa,CAAC,GAAI,SApBL,IAAUZ,KA+CxBT,MAAM/B,OAAOE,S,+BAIhB,OAAO,yBAAKmE,GAAG,MAAMxE,MAAOA,Q,GAhLVyE,IAAMC,W,qCCKtBC,GAAkB,SAAC,GAAe,IARvBhC,EAQUiC,EAAY,EAAZA,MACrBC,EARW,gBADAlC,EASMiC,GARe,SAChB,eAAXjC,EAAgC,QACrB,cAAXA,EAA+B,OACpB,cAAXA,EAA4B,MACzB,OAKZ,OAAO,uBAAG3C,MAAO,CAAE6E,MAAOA,IAAUD,IAGhCE,GAAqB,SAAA7D,GAAK,OAC9B,kBAAC,KAAD,eAAkB8D,mBAAoBJ,IAAqB1D,KAGvD+D,GAAmB,SAAC,GAAe,IAAbJ,EAAY,EAAZA,MACtBK,EAAI,+EAA2EL,GACnF,OACE,uBAAGM,KAAMD,EAAME,OAAO,SAASC,IAAI,uBAChCR,IAKDS,GAAkB,SAAApE,GAAK,OAC3B,kBAAC,KAAD,eAAkB8D,mBAAoBC,IAAsB/D,KAIxDqE,GAAW,SAAAC,GACf,OAAOA,EAAG,UA0IGC,G,kDAtIb,WAAYvE,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CACXuE,KAAM,GACNtE,KAAM,GACNuE,QAAS,CAAC,CAAEC,WAAY,eAAgBC,UAAW,SACnDC,cAAe,CAAC,UAChBC,MAAO,CAAC,YACRC,SAAU,CAAC,CAAEJ,WAAY,YAE3B,EAAKK,cAAgB,SAAAN,GAAO,OAAI,EAAKO,SAAS,CAAEP,aAChD,EAAKQ,eAAiB,SAAAH,GAAQ,OAAI,EAAKE,SAAS,CAAEF,cAXjC,E,gJAmBjB,IAAMI,EAAahC,KAAKlD,MAAMkF,WACxBC,EAAQjC,KAAKlD,MAAMmF,MACnBC,EAAgBlC,KAAKlD,MAAMoF,cAyCzBR,EAAkB1B,KAAKjD,MAAvB2E,cACFS,EAAKnC,KAAKjD,MAAM4E,MAChBL,EAAOtB,KAAKlD,MAAME,KAAKb,KAAI,SAACiC,EAASgE,GACzChE,EAAQG,WAAR,SAAiC6D,EACjC,IAAIC,EAAIjE,EAAQG,WAAW,8BAK3B,OAJS,OAAN8D,GAAcA,EAAE5C,OAAS,IAC1BrB,EAAQG,WAAW,8BAAgC8D,EAAEC,QAAQ,KAAK,KAC3D,SAAND,IACDjE,EAAQG,WAAW,8BAAgC,IAC9CH,EAAQG,cAIjB,OACE,kBAACgE,GAAA,EAAD,CACE1G,MAAO,CACLE,OAAQ,SAGhB,wBAAIF,MAAO,CAAC2G,UAAU,WAAtB,UAAqCN,EAArC,kBAA4DD,IACtD,kBAAC,KAAD,CACEX,KAAMA,EACNmB,QA9DO,CACX,CAAEC,KAAM,SAAUC,MAAO,UACzB,CAAED,KAAM,aAAcC,MAAO,cAC7B,CAAED,KAAM,WAAYC,MAAO,YAC3B,CAAED,KAAM,mBAAoBC,MAAO,kBACnC,CAAED,KAAM,eAAgBC,MAAO,WAC/B,CAAED,KAAM,kBAAmBC,MAAO,mBAClC,CAAED,KAAM,OAAQC,MAAO,mBACvB,CAAED,KAAM,6BAA8BC,MAAO,iBAC7C,CAAED,KAAM,6CAA8CC,MAAO,iBAC7D,CAAED,KAAM,cAAeC,MAAO,eAC9B,CAAED,KAAM,UAAWC,MAAO,WAC1B,CAAED,KAAM,YAAaC,MAAO,aAC5B,CAAED,KAAM,aAAcC,MAAO,cAC7B,CAAED,KAAM,eAAgBC,MAAO,MAC/B,CAAED,KAAM,eAAgBC,MAAO,SAC/B,CAAED,KAAM,YAAaC,MAAO,iBAC5B,CAAED,KAAM,kBAAgBC,MAAO,oBA8C3BxB,SAAUA,GACVtF,MAAO,CACLE,OAAQ,SAGV,kBAAC,KAAD,CAAgB6G,eAAgB,KAChC,kBAAC,KAAD,MACA,kBAAC,KAAD,CACEC,eAAgB,CAAC,CAAErB,WAAY,SAAUC,UAAW,WAEtD,kBAAC,KAAD,MACA,kBAAC,GAAD,CAAoBqB,IAAKpB,IACzB,kBAAC,GAAD,CAAiBoB,IAAKX,IACtB,kBAAC,KAAD,CAAcpG,OAAQ,MACtB,kBAAC,KAAD,CAAqBgH,oBAzDC,CAC1B,CAAEvB,WAAY,SAAU1F,MAAO,KAC/B,CAAE0F,WAAY,aAAc1F,MAAO,KACnC,CAAE0F,WAAY,WAAY1F,MAAO,KACjC,CAAE0F,WAAY,mBAAoB1F,MAAO,KACzC,CAAE0F,WAAY,eAAgB1F,MAAO,KACrC,CAAE0F,WAAY,kBAAmB1F,MAAO,KACxC,CAAE0F,WAAY,OAAQ1F,MAAO,KAC7B,CAAE0F,WAAY,6BAA8B1F,MAAO,KACnD,CAAE0F,WAAY,6CAA8C1F,MAAO,KACnE,CAAE0F,WAAY,cAAe1F,MAAO,KACpC,CAAE0F,WAAY,UAAW1F,MAAO,KAChC,CAAE0F,WAAY,YAAa1F,MAAO,KAClC,CAAE0F,WAAY,aAAc1F,MAAO,KACnC,CAAE0F,WAAY,eAAgB1F,MAAO,KACrC,CAAE0F,WAAY,eAAgB1F,MAAO,KACrC,CAAE0F,WAAY,YAAa1F,MAAO,KAClC,CAAE0F,WAAY,kBAAgB1F,MAAO,QAyCjC,kBAAC,KAAD,CAAgBkH,qBAAmB,IACnC,kBAAC,KAAD,MACA,kBAAC,KAAD,CAAUN,KAAK,QACb,kBAAC,KAAD,MACG,YAA6B,IAApBO,EAAmB,EAAzB3B,KAIF,OAHAnB,QAAQC,IAAI,gBACZD,QAAQC,IAAI6C,GACZjB,EAAWiB,GACJ,kBAAC,KAAD,gB,GA7GA3C,IAAM4C,e,wCCmBdC,G,kDAzDb,aAAe,IAAD,8BACZ,gBACKpG,MAAQ,CACXqG,SAAS,EACTvH,MAAO,CACLmB,KAAM,CAAEqG,KAAM,YALN,E,qDAUJ,IAAD,OAYHC,EAvCe,SAAAC,GACrB,IAAIvG,EAAOuG,EAAIpH,KAAI,SAAAiC,GAAO,OAAIA,EAAQG,cAClCiF,EAAQxG,EAAKuC,QAAO,SAAAkE,GACtB,MAAoB,eAAbA,EAAEjF,UACRiB,OAIH,MAAO,CACL,CAAEgE,EAAG,aAAcC,EAJT1G,EAAKuC,QAAO,SAAAkE,GAAC,MAAiB,eAAbA,EAAEjF,UAAyBiB,QAKtD,CAAEgE,EAAG,aAAcC,EAAGF,GACtB,CAAEC,EAAG,YAAUC,EALP1G,EAAKuC,QAAO,SAAAkE,GAAC,MAAiB,cAAbA,EAAEjF,UAAqBiB,QAMhD,CAAEgE,EAAG,YAAaC,EALX1G,EAAKuC,QAAO,SAAAkE,GAAC,MAAiB,cAAbA,EAAEjF,UAAwBiB,SAgCpCkE,CAAe3D,KAAKlD,MAAME,MAExC,OACE,6BACE,kBAACuF,GAAA,EAAD,CAAO1G,MAAO,CAAEE,OAAQ,IAAKD,MAAM,IAAK8H,OAAO,SAE7C,kBAAC,KAAD,CACE7H,OAAQ,IACRD,MAAO,IACP+H,MAAOC,KAAaC,SACpBC,cAAe,IAEf,kBAAC,KAAD,CACEC,SAAU,EACVC,cAAe,kBAAC,KAAD,CAAKC,OAAQ,CAAEC,YAzBhB,WACtB,IAAMC,EAAY,EAAKtH,MAAMqG,QAAU,OAAS,SAC1CA,GAAW,EAAKrG,MAAMqG,QAC5B,EAAKtB,SAAS,CACZsB,UACAvH,MAAO,CACLmB,KAAM,CAAEqG,KAAMgB,UAoBVxI,MAAO,CACLmB,KAAM,CACJqG,KAAM,SAAAiB,GACJ,MAAkB,eAAdA,EAAEC,MAAMd,EAA2B,SACrB,eAAda,EAAEC,MAAMd,EAA2B,QACrB,cAAda,EAAEC,MAAMd,EAAuB,MACjB,cAAda,EAAEC,MAAMd,EAA0B,YAAtC,KAINzG,KAAMsG,EACNkB,OAAQ,SAAAF,GAAC,OAAIA,EAAEC,MAAMb,Y,GAjDXpD,IAAMC,W,SCjBf,SAASkE,KACpB,OACI,kBAACC,GAAA,EAAD,CAAYC,QAAQ,KAAKjE,MAAM,WAA/B,wB,mOCSFkE,GAAYC,aAAW,CAC3BC,KAAM,CACJhJ,MAAO,KAETiJ,SAAU,CACRjJ,MAAO,QAETkJ,OAAQ,CACNC,YAAa,MAIF,SAASC,GAAgBpI,GACtC,IAAMqI,EAAUP,KAEVQ,EAAetI,EAAMsI,aACrBC,EAAavI,EAAMuI,WACnBC,EAAuBxI,EAAMwI,qBAC7BC,EAAQzI,EAAMyI,MACdC,EAAW1I,EAAM0I,SACjBC,EAAc3I,EAAM2I,YARmB,EAUjBnF,IAAMoF,SAAS,CACzClH,QAAQ,EACRmH,cAAc,EACdC,YAAY,IAb+B,mBAUtCC,EAVsC,KAU9BC,EAV8B,KAkF7C,OACE,6BAEE,kBAACC,GAAA,EAAD,CAAQC,OAAO,QAAQC,KAAMnJ,EAAMoJ,WAAYC,QAASf,GA9C3C,SAACgB,EAAYC,GAC5B,IAAIC,EAAQ,GAOZ,OANAF,EAAWG,SAAQ,SAAAC,GACbH,EAAKG,KACPF,EAAME,GAlBE,SAACH,EAAKI,GAClB,OAAOJ,EAAKI,GAAKtK,KAAI,SAACuK,EAAKtE,GAAN,OACnB,kBAACuE,GAAA,EAAD,CAAUF,IAAKA,EAAM,IAAMrE,EAAOwE,QAAM,EAACC,UAAW1B,EAAQH,QAC1D,kBAAC8B,GAAA,EAAD,CAAcC,QAASC,OAAOC,KAAKP,GAAK,KACxC,kBAACQ,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEC,QAASJ,OAAOK,OAAOX,GAAK,GAC5BY,SAAU,SAACC,GAAD,OAAOjC,EAAqBmB,EAAM,IAAMO,OAAOC,KAAKP,GAAK,GAAIa,IACvEC,KAAK,aAUUC,CAAMpB,EAAKG,OAKhC,yBAAKK,UAAW1B,EAAQL,KAAM4C,KAAK,gBACjC,kBAACC,GAAA,EAAD,KACA,kBAAChB,GAAA,EAAD,KACI,kBAACiB,GAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAQlD,QAAQ,YAAYjE,MAAM,UAAUoH,KAAK,QAAQC,QAASvC,GAAlE,aAIF,kBAAC0B,GAAA,EAAD,KACE,kBAACW,EAAA,EAAD,CAAQlD,QAAQ,YAAYjE,MAAM,YAAYoH,KAAK,QAAQC,QAASxC,GAApE,cAMN,kBAACoC,GAAA,EAAD,CAAMK,OAAK,GACR5B,EAAWjK,KAAI,SAAC8L,EAAM7F,GAAP,OACd,kBAAC,IAAM8F,SAAP,CAAgBzB,IAAK,OAAOrE,GAC1B,kBAACuE,GAAA,EAAD,CAAUC,QAAM,EAACH,IAAKwB,EAAMF,QAAS,kBAjD7B,SAAAE,GAClBnC,EAAU,2BACLD,GADI,kBAENoC,GAAQpC,EAAOoC,MA8CmCE,CAAYF,KACrD,kBAACnB,GAAA,EAAD,CAAcC,QAASkB,IACtBpC,EAAOoC,GAAQ,kBAAC,KAAD,MAAiB,kBAAC,KAAD,OAEnC,kBAACG,GAAA,EAAD,CAAUC,GAAIxC,EAAOoC,GAAOK,QAAQ,OAAOC,eAAa,GACtD,kBAACZ,GAAA,EAAD,CAAMa,UAAU,MAAMC,gBAAc,EAACT,OAAK,GACvC1B,EAAM2B,WAchBS,CAASjD,EAAaJ,K,cCzGzBT,GAAYC,cAAW,SAAChB,GAAD,MAAY,CAEzC8E,KAAM,CACFC,SAAU,GAEZC,UAAW,CACTC,QAAS,OACTC,SAAU,QAEZC,UAAW,CACTC,WAAYpF,EAAMqF,QAAQ,GAC1BC,YAAatF,EAAMqF,QAAQ,GAC3BpN,MAAO,SAsEIsN,OAhEf,SAAwBtM,GACJ8H,KAAhB,IAqBMyE,EAAYvM,EAAMuM,UAClBC,EAAoBxM,EAAMyM,sBAC1BC,EAAe1M,EAAM0M,aAE3B,OACI,oCACI,kBAACC,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACX,kBAACC,GAAA,EAAD,0BACA,kBAACC,EAAA,EAAD,CAEIxJ,GAAG,iBACHyJ,MAAM,GACNpH,KAAK,OACLiC,QAAQ,WACRoF,YAAY,GACZC,gBAAiB,CAACC,QAAO,GACzBxJ,MAAO4I,EAAUa,KAAKzJ,MACtB0J,MAAOX,EACPY,WAAYZ,EAAe,uCAAoC,GAC/DlC,SAAUgC,KAIlB,kBAACG,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACX,kBAACC,GAAA,EAAD,oBACA,kBAACC,EAAA,EAAD,CACIQ,KAAK,WAELhK,GAAG,iBACHyJ,MAAM,GACNpH,KAAK,WACLiC,QAAQ,WAERlE,MAAO4I,EAAUiB,SAAS7J,MAC1B6G,SAAUgC,O,gFCpE9B,SAASiB,GAAMzN,GACb,OAAO,kBAAC,KAAD,eAAU0N,UAAW,EAAG7F,QAAQ,UAAa7H,IAIvC,SAAS2N,GAAiB3N,GAAQ,IAAD,EACtBwD,IAAMoF,UAAS,GADO,gCAGdpF,IAAMoF,SAAS,CAC7ChD,KAAM,CAACjC,MAAM,GAAI0J,OAAM,EAAOC,WAAW,IACzCM,MAAO,CAACjK,MAAM,GAAI0J,OAAM,EAAOC,WAAW,IAC1CO,aAAa,CAAClK,MAAM,GAAI0J,OAAM,EAAOC,WAAW,IAChDE,SAAS,CAAC7J,MAAM,GAAI0J,OAAM,EAAOC,WAAW,IAC5CQ,UAAU,CAACnK,MAAM,GAAI0J,OAAM,EAAOC,WAAW,IAC7CS,QAAS,CAACpK,OAAM,EAAO0J,OAAM,EAAOC,WAAW,IAC/CU,aAAc,KAV8B,mBAGvCC,EAHuC,KAG7BC,EAH6B,KAmBxCC,EAAe,SAACvI,GACpB,MAAY,cAATA,GACEqI,EAASrI,GAAMjC,MAAMhB,OAAS,GAC9BsL,EAAST,SAAS7J,QAAUsK,EAASH,UAAUnK,OAChDN,QAAQC,IAAI2K,EAAST,SAAS7J,MAAM,QAAQsK,EAASH,UAAUnK,MAAM,mBAC9D,GAGRsK,EAASrI,GAAMjC,MAAMhB,OAAS,GAM7B6J,EAAoB,SAAC4B,GAAW,IAAD,EAC7BlK,EAASkK,EAAMlK,OACfP,EAAwB,aAAhBO,EAAOqJ,KAAsBrJ,EAAOoG,QAAUpG,EAAOP,MAC7DiC,EAAO1B,EAAO0B,KAEpBsI,EAAY,2BACPD,GADM,uBAERrI,EAFQ,YAAC,eAGLqI,EAASrI,IAHL,IAIPjC,MAAMA,KAJC,4BAvBcwK,EAAa,SAAWA,EAAa,UAAYA,EAAa,iBAC1DA,EAAa,aAAeA,EAAa,eAAiBF,EAASF,QAAQpK,OAsB7F,MA0BP0K,EAAoBrO,EAAMsO,wBAC1B5B,EAAe1M,EAAM0M,aAE3B,OACE,6BAEE,kBAAC6B,GAAA,EAAD,CAAQpF,KAAMnJ,EAAMwO,oBAAqBnF,QAASgF,EAAmBI,kBAAgB,qBACnF,kBAACC,GAAA,EAAD,CAAanL,GAAG,qBAAhB,wBACA,kBAACoL,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,MAGElC,GAAgB,kBAAC,GAAD,CAAOmC,SAAS,SAASnC,GAE3C,kBAACK,EAAA,EAAD,CACE+B,WAAS,EACThI,OAAO,QACPlB,KAAK,OACLrC,GAAG,OACHyJ,MAAM,QACNrJ,MAAOsK,EAASrI,KAAKjC,MACrB0J,MAAOY,EAASrI,KAAKyH,MACrBC,WAAYW,EAASrI,KAAK0H,WAC1B9C,SAAUgC,EACVuC,WAAS,IAEX,kBAAChC,EAAA,EAAD,CACE+B,WAAS,EACThI,OAAO,QACPvD,GAAG,eACHqC,KAAK,eACLoH,MAAM,gBACNrJ,MAAOsK,EAASJ,aAAalK,MAC7B6G,SAAUgC,EACVa,MAAOY,EAASJ,aAAaR,MAC7BC,WAAYW,EAASJ,aAAaP,WAClCyB,WAAS,IAEX,kBAAChC,EAAA,EAAD,CACE+B,WAAS,EACThI,OAAO,QACPvD,GAAG,QACHqC,KAAK,QACLoH,MAAM,oBACNO,KAAK,QACL5J,MAAOsK,EAASL,MAAMjK,MACtB0J,MAAOY,EAASL,MAAMP,MACtBC,WAAYW,EAASL,MAAMN,WAC3B9C,SAAUgC,EACVuC,WAAS,IAEX,kBAAChC,EAAA,EAAD,CACE+B,WAAS,EACThI,OAAO,QACPvD,GAAG,WACHqC,KAAK,WACLoH,MAAM,cACNO,KAAK,WACL5J,MAAOsK,EAAST,SAAS7J,MACzB0J,MAAOY,EAAST,SAASH,MACzBC,WAAYW,EAAST,SAASF,WAC9B9C,SAAUgC,EACVuC,WAAS,IAEX,kBAAChC,EAAA,EAAD,CACE+B,WAAS,EACThI,OAAO,QACPvD,GAAG,YACHqC,KAAK,YACLoH,MAAM,sBACNO,KAAK,WACL5J,MAAOsK,EAASH,UAAUnK,MAC1B0J,MAAOY,EAASH,UAAUT,MAC1BC,WAAYW,EAASH,UAAUR,WAC/B9C,SAAUgC,EACVuC,WAAS,IAEX,kBAACC,GAAA,EAAD,CACExP,QAAS,kBAAC6K,GAAA,EAAD,CACGC,QAAS2D,EAASF,QAAQpK,MAC1BiC,KAAK,UACL4E,SAAUgC,IAGtBQ,MAAM,4MAENiB,EAASF,QAAQpK,OACjB,kBAACsL,GAAA,EAAD,CAAgB5B,OAAK,GAArB,0BAQJ,kBAAC6B,GAAA,EAAD,CAAenQ,MAAO,CAACoQ,eAAgB,WAErC,kBAACpE,EAAA,EAAD,CAASqE,UAAWnB,EAASF,QAAQpK,MAAOkE,QAAQ,YAAYoD,QA7GjD,WACrB,IAAI/K,EAAO,CACT0F,KAAMqI,EAASrI,KAAKjC,MACpBiK,MAAOK,EAASL,MAAMjK,MACtBkK,aAAcI,EAASJ,aAAalK,MACpC6J,SAAUS,EAAST,SAAS7J,OAE9B3D,EAAMqP,eAAenP,IAsG0E0D,MAAM,WAA/F,Y,6CCtKJ0L,GAAaC,YAAW,CAC5BC,MAAO,CACLC,OAAQ,sBAFOF,EAIhB,SAACvP,GAAD,OACD,kBAAC0P,GAAA,EAAD,eACEhC,UAAW,EACXiC,mBAAoB,KACpBC,aAAc,CACZC,SAAU,SACVC,WAAY,UAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,WAEV9P,OAIFgQ,GAAiBT,aAAW,SAACxI,GAAD,MAAY,CAC5C8E,KAAM,CACJ,UAAW,CACToE,gBAAiBlJ,EAAMmJ,QAAQjG,QAAQkG,KACvC,sDAAuD,CACrDvM,MAAOmD,EAAMmJ,QAAQE,OAAOC,YALbd,CASnBe,MAEW,SAASC,GAAOvQ,GAAQ,IAAD,EACJwD,IAAMoF,SAAS,MADX,mBAC7B4H,EAD6B,KACnBC,EADmB,KAWpC,OACE,6BACE,kBAACC,EAAA,EAAD,CACEC,gBAAc,kBACdC,gBAAc,OACd/I,QAAQ,YACRjE,MAAM,UACNqH,QAfc,SAACmD,GACnBqC,EAAYrC,EAAMyC,iBAgBd,kBAAC,KAAD,OAEF,kBAACvB,GAAD,CACE/L,GAAG,kBACHiN,SAAUA,EACVM,aAAW,EACX3H,KAAM4H,QAAQP,GACdnH,QApBc,WAClBoH,EAAY,QAsBR,kBAACT,GAAD,CACC/E,QAAWjL,EAAMgR,cAKhB,kBAAChH,GAAA,EAAD,CAAcC,QAAQ,cClChCgH,IAAOC,OAAO,MAEd,IAAMC,GAAYC,KAAYD,UACxBE,GAAaD,KAAYD,UAAUE,WACnCC,GAAcF,KAAYD,UAAUG,YACpC3I,GAAc,CAAC,SAAU,kBAAmB,gBA6B5C5B,GAAQwK,YAAe,CAC3BC,WAAY,CACVC,iBAAiB,EACjBC,6BAA6B,KAgGjC,SAASC,GAAyBC,EAAUzH,GAC1C,IAAI0H,EAAM,GAEV,SAASC,EAAqBC,EAAWpI,GACvC,IAhGkBqI,EAgGZzH,EAASwH,EAAU1S,KAAI,SAAC4S,GAAD,OAAUA,EAAKtI,MACxCkI,GAjGcG,EAiGKzH,EAhGjB,YAAO,IAAI2H,IAAIF,KAkGrB,OADAH,EAAMA,EAAIxS,KAAI,SAAC4S,GAAD,sBAAcA,GAAO,MAQrC,OAJA9H,EAAKV,SAAQ,SAACE,GACZkI,EAAIlI,GAAOmI,EAAqBF,EAAUjI,MAGrCkI,EAGT,SAASM,GAAanS,GACpB,OAAO,6BAAMA,EAAMoS,U,IAOfC,G,kDACJ,WAAYrS,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CACX0D,MAAO,EACP2O,UAAWrB,MACRsB,SAAS,EAAG,UACZC,QAAQ,SACR/R,OAAO,cACVgS,QAASxB,MACNsB,SAAS,EAAG,UACZG,MAAM,SACNjS,OAAO,cACVP,KAAM,GACNyS,SAAU,GACVC,QAAS,EAAK5S,MAAM6S,MAEpBC,QAAS,GACTC,SAAS,EACTC,UAAW,EACXC,gBAAgB,EAChBC,YAAY,EACZ9J,YAAY,EACZ+J,WAAW,EACXC,aAAc,GACdC,WAAY,GACZC,aAAc,GACdC,cAAc,EACd/E,qBAAqB,EACrBgF,UAAWC,eAAeC,QAAQ,cAAgB,GAClDnH,UAAW,CACTa,KAAM,CAAEzJ,MAAO,GAAI0J,OAAO,EAAOC,WAAY,KAC7CE,SAAU,CAAE7J,MAAO,GAAI0J,OAAO,EAAOC,WAAY,MAEnDqG,yBAA0B,GAC1BC,mBAAmB,GAGrB,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKC,YAAc,EAAKA,YAAYD,KAAjB,gBACnB,EAAKE,UAAY,EAAKA,UAAUF,KAAf,gBACjB,EAAKG,aAAe,EAAKA,aAAaH,KAAlB,gBACpB,EAAKI,gBAAkB,EAAKA,gBAAgBJ,KAArB,gBACvB,EAAKK,iBAAmB,EAAKA,iBAAiBL,KAAtB,gBACxB,EAAKM,kBAAoB,EAAKA,kBAAkBN,KAAvB,gBACzB,EAAKO,iBAAmB,EAAKA,iBAAiBP,KAAtB,gBACxB,EAAKtL,qBAAuB,EAAKA,qBAAqBsL,KAA1B,gBAC5B,EAAKrL,MAAQ,EAAKA,MAAMqL,KAAX,gBACb,EAAKQ,0BAA4B,EAAKA,0BAA0BR,KAA/B,gBACjC,EAAKpL,SAAW,EAAKA,SAASoL,KAAd,gBAChB,EAAKS,aAAe,EAAKA,aAAaT,KAAlB,gBACpB,EAAKU,uBAAyB,EAAKA,uBAAuBV,KAA5B,gBAC9B,EAAKxF,wBAA0B,EAAKA,wBAAwBwF,KAA7B,gBAC/B,EAAKW,YAAc,EAAKA,YAAYX,KAAjB,gBACnB,EAAK9C,aAAe,EAAKA,aAAa8C,KAAlB,gBACpB,EAAKzE,eAAiB,EAAKA,eAAeyE,KAApB,gBACtB,EAAKrH,sBAAwB,EAAKA,sBAAsBqH,KAA3B,gBAC7B,EAAKY,GAAK,eAxDO,E,2DA4DjBxR,KAAK8B,SAAS,CAAEmO,WAAW,M,4CAGP/E,GAEpB/K,QAAQC,IAAI,mBACZ,IAAMY,EAASkK,EAAMlK,OACfP,EAAQO,EAAOP,MACfiC,EAAO1B,EAAO0B,KAJT1C,KAMN8B,SAAS,CACZuH,UAAU,2BACLrJ,KAAKjD,MAAMsM,WADP,kBAEN3G,EAFM,2BAGF1C,KAAKjD,MAAMsM,UAAU3G,IAHnB,IAILjC,MAAOA,U,iCAOb,IAAM0P,EAAanQ,KAAKjD,MAAMoT,WACxBsB,EAAqBzK,OAAOC,KAAKkJ,GACnCuB,EAAU,GACdD,EAAmBlL,SAAQ,SAACoL,GAC1B,IAAIC,EAAOzB,EAAWwB,GAEtBD,EAAQC,GAAOC,EACZrS,QAAO,SAACsS,GACP,OAAiC,IAA1B7K,OAAOK,OAAOwK,GAAK,MAE3B1V,KAAI,SAAC4S,GACJ,OAAO/H,OAAOC,KAAK8H,GAAM,SAG/B,IACM/R,EADegD,KAAKjD,MAAMqT,aACN7Q,QAAO,SAAC6B,GAChC,IAAI0Q,GAAM,EAQV,OAPAL,EAAmBlL,SAAQ,SAACE,GAExBiL,EAAQjL,GAAKhH,OAAS,IACyB,IAA/CiS,EAAQjL,GAAKsL,QAAQ3Q,EAAI7C,WAAWkI,MAEpCqL,GAAM,MAEHA,KAEHE,EAAO,UAAMhV,EAAKyC,OAAX,kBAA2BO,KAAKjD,MAAMC,KAAKyC,QACxDO,KAAK8B,SAAS,CACZsO,aAAcpT,EACdkJ,YAAY,EACZgK,aAAc8B,EACd/B,WAAW,M,gDAIWhN,GACxBjD,KAAK8B,SAAS,CAAE8N,QAAS3M,M,8BAIzBjD,KAAK8B,SAAS,CACZsO,aAAcpQ,KAAKjD,MAAMC,KACzBmT,WAAY1B,GACVzO,KAAKjD,MAAMC,KAAKb,KAAI,SAACiC,GAAD,OAAaA,EAAQG,cACzCkH,Q,2CAKewC,EAAMiD,GAAQ,IAAD,EACZjD,EAAKgK,MAAM,KADC,mBAC3BC,EAD2B,KACpBxP,EADoB,KAE5ByP,EAAenS,KAAKjD,MAAMoT,WAAW+B,GACrCE,EAAgBD,EAAaE,WAC/B,SAACtD,GAAD,OAAU/H,OAAOC,KAAK8H,GAAM,KAAOrM,KAEjC4P,EAAkBH,EAAaC,GAEnCE,EAAgB5P,IAAS4P,EAAgB5P,GAEzC1C,KAAK8B,SAAS,CACZqO,WAAW,2BACNnQ,KAAKjD,MAAMoT,YADN,kBAEP+B,EAFO,sBAGHC,EAAaI,MAAM,EAAGH,IAHnB,CAINE,GAJM,YAKHH,EAAaI,MAAMH,EAAgB,W,yCAO5CpS,KAAK8B,SAAS,CAAEkO,YAAahQ,KAAKjD,MAAMiT,e,qCAIxC,IAAIwC,EAAOxS,KAEXyS,KAAOC,IADU,2DACM,SAAUZ,GAC3BA,GAAOA,EAAIa,UACbpC,eAAeqC,WAAW,aAC1BJ,EAAK1Q,SAAS,CACZwO,UAAW,GACXtT,KAAM,GACN4S,QAAS,GACTQ,aAAc,KAEZpU,OAAOE,OAASF,OAAOC,eACzBkE,QAAQC,IAAI,sBACZpE,OAAOE,MAAM+B,YAAYjC,OAAOC,qB,yCAOtC+D,KAAK8B,SAAS,CAAEoE,YAAalG,KAAKjD,MAAMmJ,e,0CAIxClG,KAAK8B,SAAS,CAAEkO,YAAY,M,oCAI5B,IAAI6C,EACF,mDAA4C7S,KAAKwR,GAAjD,8CACA,uEAEEgB,EAAOxS,KACXyS,KAAOK,KAAK,CACVC,IAAKF,EACLxI,KAAM,MACN2I,SAAU,OACVL,QAAS,SAAUb,GACjB,IAAImB,EAAOnB,EAAIxS,SAASnD,KAAI,SAACiC,GAAD,OAAaA,EAAQG,cACjDiU,EAAK1Q,UAAS,SAACoR,GAAD,MAAiB,CAAEzD,SAAUwD,W,oCAM/C,IAAIT,EAAOxS,KAEPmT,EAAa,CACfjJ,KAAMsI,EAAKzV,MAAMsM,UAAUa,KAAKzJ,MAChC6J,SAAUkI,EAAKzV,MAAMsM,UAAUiB,SAAS7J,MACxC2S,SAAUZ,EAAKhB,IAGjBiB,KACGC,IARc,2DAUbS,GACA,SAAUrB,GACJA,GAAOA,EAAIa,UACbpC,eAAe8C,QAAQ,YAAavB,EAAI9U,KAAKsW,YAC7Cd,EAAK1Q,SAAS,CACZwO,UAAWwB,EAAI9U,KAAKsW,WACpB5C,mBAAmB,IAErBvQ,QAAQC,IAAI,gCAAiC0R,EAAI9U,KAAKsW,eAG1D,QAEDC,MAAK,SAAUzB,GACdU,EAAK1Q,SAAS,CAAE4O,mBAAmB,S,qCAK1B8C,GACb,IAAIhB,EAAOxS,KAIPhD,EAAO,CACT0F,KAAM8Q,EAAQ9I,MACdA,MAAO8I,EAAQ9I,MACfJ,SAAUkJ,EAAQlJ,SAClBmJ,SAAS,EACTC,UAAW,eACXC,SAAUnB,EAAKhB,GACfjT,WAAY,CACVqV,IAAKJ,EAAQ7I,aACbjI,KAAM8Q,EAAQ9Q,OAIdyQ,EAAa,CACfjJ,KAAMsJ,EAAQ9I,MACdJ,SAAUkJ,EAAQlJ,SAClB8I,SAAUZ,EAAKhB,IAEjBrR,QAAQC,IAAI,uBACZqS,KACGoB,KAvBW,kDAyBVC,KAAKC,UAAU/W,IACf,SAAU8U,GACR3R,QAAQC,IAAI,6BACZD,QAAQC,IAAI0R,GACRA,GAAOA,EAAIa,QACbF,KAAOC,IA7BE,2DA+BPS,GACA,SAAUrB,GACJA,GAAOA,EAAIa,UACbH,EAAKpH,0BACLmF,eAAe8C,QAAQ,YAAavB,EAAI9U,KAAKsW,YAC7Cd,EAAK1Q,SAAS,CAAEwO,UAAWwB,EAAI9U,KAAKsW,aACpCnT,QAAQC,IACN,gCACA0R,EAAI9U,KAAKsW,eAIf,QAEOxB,GAAQA,EAAIa,UAGzB,QAEDY,MAAK,SAAUzB,GACd3R,QAAQC,IAAI,4BAA6B0R,EAAIkC,aAAahC,SAC1DQ,EAAK1Q,SAAS,CACZ2O,yBAA0B+B,EAAKyB,gBAC7BnC,EAAIkC,aAAaE,kB,sCAMX1K,GACd,OAAQA,GACN,IAAK,0BACL,IAAK,+BACL,IAAK,sBACL,IAAK,uBACH,MAAO,uCACT,IAAK,gBACH,MAAO,8GACT,QACE,MAAO,mD,8BAGLkG,EAASN,EAAWG,GAC1BvP,KAAK8B,UAAS,SAACoR,GAAD,MAAiB,CAAEtD,QAAS,GAAIC,SAAS,MACvD,IAAI2C,EAAOxS,KAEPmU,EAAW,CACbb,WAFctT,KAAKjD,MAAMuT,UAGzBZ,QAASA,EACT0E,UAAWhF,EACXiF,QAAS9E,EACT6D,SAAUZ,EAAKhB,IAGb8C,EAAWR,KAAKC,UAAUI,GAE9B,GAAKzE,EAAL,CAQA+C,KAAOK,KAAK,CACVC,IAHA,4EAIA1I,KAAM,OACN2I,SAAU,OACVhW,KAAMsX,EACN3B,QAAS,SAAUb,GACjB,IAAIyC,EAAMzC,EAAIxS,SAASnD,KAAI,SAACiC,GAAD,OAAaA,EAAQG,cAChDuT,EAAIxS,SAASiH,SAAQ,SAACnI,GACpB,IAAIoW,EAAOpW,EAAQG,WAAWkW,gBAC9BrW,EAAQG,WAAWkW,gBArcT,SAACD,GACnB,OAAQA,GACN,KAAK,GACH,MAAO,wBACT,KAAK,GACH,MAAO,oCACT,KAAK,GACH,MAAO,YACT,KAAK,GACH,MAAO,kBACT,KAAK,GACH,MAAO,mBACT,KAAK,GACH,MAAO,iCACT,KAAK,GACH,MAAO,aACT,KAAK,GACH,MAAO,eACT,KAAK,GACH,MAAO,oCACT,KAAK,GACH,MAAO,iBACT,KAAK,GACH,MAAO,2BACT,KAAK,GACH,MAAO,OACT,KAAK,IACH,MAAO,wBACT,KAAK,IACH,MAAO,WACT,KAAK,IACH,MAAO,qBACT,KAAK,IACH,MAAO,0BACT,KAAK,IACH,MAAO,kDACT,KAAK,IACH,MAAO,iDACT,KAAK,IACH,MAAO,kCACT,KAAK,IACH,MAAO,mCACT,KAAK,IACH,MAAO,wCACT,KAAK,IACH,MAAO,qDACT,KAAK,IACH,MAAO,mDACT,KAAK,IACH,MAAO,wDACT,KAAK,IACH,MAAO,cACT,KAAK,IACH,MAAO,wBACT,KAAK,IACH,MAAO,wCACT,KAAK,IACH,MAAO,8BACT,KAAK,IACH,MAAO,2DACT,KAAK,IAEL,KAAK,IAEL,KAAK,IAEL,KAAK,IACH,MAAO,0BACT,KAAK,IACH,MAAO,+BACT,KAAK,IACH,MAAO,qDACT,KAAK,IACH,MAAO,8BACT,KAAK,IACH,MAAO,sCACT,KAAK,IACH,MAAO,aACT,KAAK,IACH,MAAO,uBACT,KAAK,IACH,MAAO,0BACT,QACE,OAAOA,GAkXkCE,CAAYF,GACjD,IAAIG,EAAavW,EAAQG,WAAWqW,UACpCxW,EAAQG,WAAWqW,UACjBD,GAAcA,EAAWlV,OAAS,EAC9BkV,EAAWE,UAAU,EAAG,IACxB,MAERrC,EAAK1Q,UAAS,SAACgT,GAAD,MAAgB,CAC5BlF,QAAS2E,EACTvX,KAAM8U,EAAIxS,SACV8Q,aAAc0B,EAAIxS,SAClBuQ,SAAS,EACTM,WAAY1B,GAAyB8F,EAAK9O,gBA5B9CzF,KAAK8B,SAAS,CAAE+N,SAAS,M,mCAwChB3E,GACXA,EAAM6J,UACN/U,KAAK8B,UAAS,SAACgT,GAAD,MAAgB,CAAEpF,QAASxE,EAAMlK,OAAOP,Y,0CAItDN,QAAQC,IAAI,IADM,MAEoBJ,KAAKjD,MAArC2S,EAFY,EAEZA,QAASN,EAFG,EAEHA,UAAWG,EAFR,EAEQA,QAC1BvP,KAAKgV,QAAQtF,EAASN,EAAWG,GACjCvP,KAAKiV,gB,mFAKM/J,EAAOzK,GAClBT,KAAK8B,SAAS,CAAErB,Y,wCAGC,IAAD,EACsBT,KAAKjD,MAArC2S,EADU,EACVA,QAASN,EADC,EACDA,UAAWG,EADV,EACUA,QACrBG,IAASA,EAAU,KACxB1P,KAAKgV,QAAQtF,EAASN,EAAWG,GACjC2F,YAAS,KAAOxF,K,kCAGNyF,GACVnV,KAAK8B,SAAS,CACZsN,UAAW+F,EAAK5X,OAAO,kB,gCAIjB4X,GACRnV,KAAK8B,SAAS,CACZyN,QAAS4F,EAAK5X,OAAO,kB,+CAKvB4C,QAAQC,IAAI,qBACZJ,KAAK8B,SAAS,CACZwJ,qBAAqB,EACrB+E,cAAc,M,gDAKhBrQ,KAAK8B,SAAS,CACZwJ,qBAAqB,EACrB+E,cAAc,M,+BAIR,IAAD,EACkDrQ,KAAKjD,MAAtD0D,EADD,EACCA,MAAO2O,EADR,EACQA,UAAWG,EADnB,EACmBA,QAASE,EAD5B,EAC4BA,SAAUC,EADtC,EACsCA,QAE7C,OACE,kBAAC,IAAD,CAAkB7L,MAAOA,IACvB,yBAAKgD,UAAU,OACb,yBAAKA,UAAW7G,KAAKjD,MAAM8S,QAAU,UAAY,KAEjD,kBAAC3K,GAAD,CACEE,aAAcpF,KAAKmR,iBACnBjL,WAAYlG,KAAKjD,MAAMmJ,WACvBb,WAAYrF,KAAKjD,MAAMoT,WACvB7K,qBAAsBtF,KAAKsF,qBAC3BC,MAAOvF,KAAKuF,MACZC,SAAUxF,KAAKwF,SACfC,YAAaA,KAGf,kBAACgF,GAAD,CACE0B,eAAgBnM,KAAKmM,eACrBb,oBAAqBtL,KAAKjD,MAAMuO,oBAChCF,wBAAyBpL,KAAKoL,wBAC9BkG,uBAAwBtR,KAAKsR,uBAC7B9H,aAAcxJ,KAAKjD,MAAM0T,2BAE3B,yBAAK5J,UAAU,IACb,kBAACuO,EAAA,EAAD,CAAQ7Y,SAAS,SAASmE,MAAM,WAC9B,kBAAC2U,EAAA,EAAD,KACE,kBAAC5L,EAAA,EAAD,CAAMZ,WAAS,GACb,kBAACY,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACb,kBAAClF,GAAD,OAEwB,KAAzBzE,KAAKjD,MAAMuT,WACV,oCAEE,kBAACgF,GAAD,CACEjM,UAAWrJ,KAAKjD,MAAMsM,UACtBE,sBAAuBvJ,KAAKuJ,sBAC5BC,aAAcxJ,KAAKjD,MAAM2T,oBAG3B,kBAACjH,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACb,kBAAC9B,EAAA,EAAD,CACElD,QAAQ,YACRjE,MAAM,UACNoH,KAAK,QACLC,QAAS/H,KAAKuR,aAJhB,cAUF,kBAAC9H,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAf,aAEE,kBAAC4L,EAAA,EAAD,CACE7U,MAAM,UACN8U,UAAU,SACVhN,UAAU,SACVT,QAAS/H,KAAKsR,uBACdxJ,KAAK,SALP,0BAgBoB,KAAzB9H,KAAKjD,MAAMuT,WACV,oCACE,kBAAC7G,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACb,0BACE9C,UAAW4O,KAAW5M,UACtB6M,YAAU,EACVC,aAAa,OAEb,kBAAC9L,EAAA,EAAD,CACExJ,GAAG,kBACHuV,QAAM,EACN9L,MAAM,UACNC,YAAY,cACZlD,UAAW4O,KAAWzM,UACtBvI,MAAOT,KAAKjD,MAAM2S,SAAW,GAC7BpI,SAAUtH,KAAK+Q,aACf8E,YAAa,CACXC,QAAQ,GAEV1L,WAAW,GACXJ,gBAAiB,CAAEC,QAAQ,IAE1BwF,EAAStT,KAAI,SAAC4Z,GACb,OACE,4BAAQtP,IAAKsP,EAAIrG,QAASjP,MAAOsV,EAAIrG,SAClCqG,EAAIC,eAOjB,kBAACvM,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACb,kBAAC,IAAD,CACEsM,MAAOC,IACPlI,OAvGP,KAwGOD,OAAQA,KAER,kBAACoI,EAAA,EAAD,CACE1V,MAAO2O,EACPtF,MAAM,YACNvM,OAAO,cACP+J,SAAUtH,KAAK6Q,gBAIrB,kBAACpH,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACb,kBAAC,IAAD,CAAyBsM,MAAOC,KAC9B,kBAACC,EAAA,EAAD,CACE1V,MAAO8O,EACPzF,MAAM,WACNvM,OAAO,cACP+J,SAAUtH,KAAK8Q,eAOC,KAAzB9Q,KAAKjD,MAAMuT,WACV,oCACE,kBAAC7G,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACb,kBAAC6D,EAAA,EAAD,CACE4I,cAAY,OACZrO,QAAS/H,KAAKgR,iBAEd,kBAACqF,EAAA,EAAD,CAAS1T,MAAM,QACb,kBAAC,IAAD,QAGJ,kBAAC6K,EAAA,EAAD,CACE4I,cAAY,SACZrO,QAAS/H,KAAKmR,kBAEd,kBAACkF,EAAA,EAAD,CAAS1T,MAAM,UACb,kBAAC,KAAD,QAGH3C,KAAKjD,MAAM6S,QAAQnQ,OAAS,GAC3B,kBAACwO,GAAD,CACEqI,QACE,kBAAC9I,EAAA,EAAD,CAAY4I,cAAY,SACtB,kBAACC,EAAA,EAAD,CAAS1T,MAAM,kBACb,kBAAC,IAAD,QAIN4T,SACE,UACA7G,EACA,IACAN,EACA,IACAG,GAGF,kBAACpB,GAAD,CAAYnR,KAAMgD,KAAKjD,MAAM6S,QAASlN,KAAK,OACzC,kBAAC0L,GAAD,CAAatE,MAAM,SAASrJ,MAAM,WAClC,kBAAC2N,GAAD,CACEtE,MAAM,aACNrJ,MAAM,eAER,kBAAC2N,GAAD,CAAatE,MAAM,WAAWrJ,MAAM,aACpC,kBAAC2N,GAAD,CACEtE,MAAM,iBACNrJ,MAAM,qBAER,kBAAC2N,GAAD,CACEtE,MAAM,UACNrJ,MAAM,iBAER,kBAAC2N,GAAD,CACEtE,MAAM,kBACNrJ,MAAM,oBAER,kBAAC2N,GAAD,CACEtE,MAAM,kBACNrJ,MAAM,SAER,kBAAC2N,GAAD,CACEtE,MAAM,gBACNrJ,MAAM,+BAER,kBAAC2N,GAAD,CACEtE,MAAM,sBACNrJ,MAAM,kBAER,kBAAC2N,GAAD,CACEtE,MAAM,cACNrJ,MAAM,gBAER,kBAAC2N,GAAD,CAAatE,MAAM,UAAUrJ,MAAM,YACnC,kBAAC2N,GAAD,CACEtE,MAAM,YACNrJ,MAAM,cAER,kBAAC2N,GAAD,CACEtE,MAAM,aACNrJ,MAAM,eAER,kBAAC2N,GAAD,CAAatE,MAAM,KAAKrJ,MAAM,iBAC9B,kBAAC2N,GAAD,CAAatE,MAAM,QAAQrJ,MAAM,iBACjC,kBAAC2N,GAAD,CACEtE,MAAM,kBACNrJ,MAAM,uBAMhB,kBAACgJ,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACb,kBAAC0D,GAAD,CAAQS,aAAc9N,KAAK8N,iBAIjC,kBAACrE,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACb,uBACE5I,KAAK,8FACLC,OAAO,SACPC,IAAI,uBACJ,kBAACuM,EAAA,EAAD,CACE9M,MAAM,WAEN,kBAAC,IAAD,YAQZ,kBAAC8V,EAAA,EAAD,CAAM/V,MAAOA,EAAO6G,SAAUtH,KAAK2Q,aAAc8F,UAAQ,GACvD,kBAACC,EAAA,EAAD,CACE7X,KACE,kBAACwX,EAAA,EAAD,CAAS1T,MAAM,QACb,kBAAC,IAAD,SAIN,kBAAC+T,EAAA,EAAD,CACE7X,KACE,kBAACwX,EAAA,EAAD,CAAS1T,MAAM,SACb,kBAAC,IAAD,OAGJgU,aAAW,UAEb,kBAACD,EAAA,EAAD,CACE7X,KACE,kBAACwX,EAAA,EAAD,CAAS1T,MAAM,aACb,kBAAC,IAAD,UAKG,IAAVlC,GACC,kBAACwO,GAAD,KACE,kBAAC,EAAD,CAASjS,KAAMgD,KAAKjD,MAAMqT,gBAGnB,IAAV3P,GACC,kBAACwO,GAAD,KACE,kBAAC,GAAD,CACEjS,KAAMgD,KAAKjD,MAAMqT,aACjBpO,WAAYhC,KAAKoR,0BACjBnP,MAAOjC,KAAKjD,MAAMC,KAAKyC,OACvByC,cAAelC,KAAKjD,MAAM6S,QAAQnQ,UAI7B,IAAVgB,GACC,kBAACwO,GAAD,KACE,kBAAC2H,GAAD,CAAW5Z,KAAMgD,KAAKjD,MAAMqT,uB,GA3rB1B7P,aAqsBH8L,gBA51BA,SAACxI,GAAD,MAAY,CACzB8E,KAAM,CACJC,SAAU,GAEZC,UAAW,CACTC,QAAS,OACTC,SAAU,QAEZC,UAAW,CACTC,WAAYpF,EAAMqF,QAAQ,GAC1BC,YAAatF,EAAMqF,QAAQ,GAC3BpN,MAAO,KAETkM,MAAO,CACL6O,UAAW,IAEbC,KAAM,CACJhb,MAAO,KAETib,SAAU,CACRnT,OAA2B,EAAnBC,EAAMqF,QAAQ,IAExBlE,OAAQ,CACNC,YAAapB,EAAMqF,QAAQ,OAq0BhBmD,CAAmB8C,IC54B9B6H,GAASC,MACTC,GAAUC,YAAcH,IAWbI,GATF,kBACX,kBAAC,IAAD,CAAkBF,QAASA,IACzB,kBAAC,IAAD,KACE,kBAAC,GAAD,CAAKG,KAAK,MACV,kBAAC,GAAD,CAAKA,KAAK,eCAIxJ,QACW,cAA7B7R,OAAOsb,SAASC,UAEe,UAA7Bvb,OAAOsb,SAASC,UAEhBvb,OAAOsb,SAASC,SAASC,MACvB,2DCXNC,IAASC,OAAO,kBAAC,GAAD,MAAUC,SAASC,eAAe,SD0H5C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,kB","file":"static/js/main.e913a027.chunk.js","sourcesContent":["import React from \"react\";\nimport L from \"leaflet\";\n\nconst style = {\n  width: \"100%\",\n  height: \"1200px\",\n};\n\nvar geojsonLayer;\nvar map;\nwindow.geojsonLayer = geojsonLayer;\nwindow.lfMap = map;\n\nvar legend = L.control({ position: \"bottomleft\" });\nlegend.onAdd = function (map) {\n  var div = L.DomUtil.create(\"div\", \"legend\");\n  div.innerHTML += \"<h4>Signaturforklaring</h4>\";\n  div.innerHTML +=\n    '<i style=\"background:#0020d7\"></i><span>NyStartet</span><br>';\n  div.innerHTML +=\n    '<i style=\"background:#d79700\"></i><span>Fraflyttet</span><br>';\n  div.innerHTML +=\n    '<i style=\"background:#298b30\"></i><span>Tilflyttet</span><br>';\n  div.innerHTML += '<i style=\"background:#c10a0a\"></i><span>Ophørt</span><br>';\n  return div;\n};\n\nclass MapData extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {},\n      renderLegend: false,\n    };\n  }\n\n  renderMap(data) {\n    var myAttributionText =\n      '&copy; <a target=\"_blank\" href=\"https://download.kortforsyningen.dk/content/vilk%C3%A5r-og-betingelser\">Styrelsen for Dataforsyning og Effektivisering</a>';\n    var kftoken = \"88c934808ac7ad80447995a577c6a32b\";\n    var toposkaermkortwmts = L.tileLayer.wms(\n      \"https://api.dataforsyningen.dk/topo_skaermkort_DAF?service=WMS&request=GetCapabilities\",\n      {\n        layers: \"dtk_skaermkort_daempet\",\n        token: kftoken,\n        format: \"image/png\",\n        attribution: myAttributionText,\n      }\n    );\n\n    var kommuneWms = L.tileLayer.wms(\n      \"https://api.dataforsyningen.dk/dagi_DAF?service=WMS&request=GetCapabilities\" +\n        \"&service=WMS&version=1.1.1\",\n      {\n        layers: \"Kommuneinddeling\",\n        format: \"image/png\",\n        token: \"88c934808ac7ad80447995a577c6a32b\",\n        transparent: true,\n        minZoom: 10,\n      }\n    );\n\n    window.lfMap = L.map(\"map\", {\n      center: [55.876823, 9.961644],\n      zoom: 8,\n      layers: [toposkaermkortwmts, kommuneWms],\n    });\n\n    L.control.scale().addTo(window.lfMap);\n  }\n  renderFeatures(data) {\n    legend.addTo(window.lfMap);\n    var costumIcon = function (status) {\n      function selector(status) {\n        const imgUrl =\n          \"https://raw.githubusercontent.com/magloire/cvrflytny/master/public/\";\n        switch (status) {\n          case \"Tilflytter\":\n            return imgUrl + \"img/t.png\";\n          case \"Fraflytter\":\n            return imgUrl + \"img/f.png\";\n          case \"Nystartet\":\n            return imgUrl + \"img/n.png\";\n          case \"Ophørt\":\n            return imgUrl + \"img/o.png\";\n          default:\n            break;\n        }\n      }\n      return L.icon({\n        iconUrl: selector(status),\n        shadowUrl: \"img/shadow.png\",\n        iconAnchor: [16, 37],\n        shadowAnchor: [20, 35],\n        popupAnchor: [0, -30],\n      });\n    };\n\n    if (window.geojsonLayer !== undefined) {\n      window.lfMap.removeLayer(window.geojsonLayer);\n    }\n\n    function getCenterPoint(data) {\n      let features = data.filter((feature) =>\n        [\"Nystartet\", \"\"].includes(feature.properties.status)\n      );\n      if (features.length === 0) return null;\n      return features[0].geometry.coordinates;\n    }\n    function onEachFeature(feature, layer) {\n      layer.bindPopup(\n        \"<strong>\" +\n          feature.properties.status +\n          \"</strong></br><hr>\" +\n          feature.properties.navn +\n          '</br><a href=\"https://datacvr.virk.dk/data/visenhed?enhedstype=produktionsenhed&id=' +\n          feature.properties[\"p-nummer\"] +\n          '\" target=\"_blank\">Se mere her</a>'\n      );\n    }\n\n    window.geojsonLayer = L.geoJSON(data, {\n      onEachFeature: onEachFeature,\n      pointToLayer: function (feature, latlng) {\n        return L.marker(latlng, {\n          icon: costumIcon(feature.properties.status),\n        });\n      },\n    }).addTo(window.lfMap);\n\n    let centerCoords = getCenterPoint(data);\n    if (centerCoords)\n      window.lfMap.setView([centerCoords[1], centerCoords[0]], 12);\n    else window.lfMap.fitBounds(window.geojsonLayer.getBounds());\n  }\n  componentDidMount() {\n    this.renderMap(this.props.data);\n    if (this.props.data.length > 0) {\n      this.renderFeatures(this.props.data);\n    }\n  }\n\n  componentDidUpdate() {\n    console.log(\"componentdidupdate\");\n    if (this.props.data.length > 0) {\n      this.renderFeatures(this.props.data);\n    } else {\n      console.log(\"props empty\");\n    }\n  }\n\n  renderMarkers(data) {\n    var costumIcon = function (status) {\n      function selector(status) {\n        switch (status) {\n          case \"Tilflytter\":\n            return \"img/t.png\";\n          case \"Fraflytter\":\n            return \"img/f.png\";\n          case \"Nystartet\":\n            return \"img/n.png\";\n          case \"Ophørt\":\n            return \"img/o.png\";\n          default:\n            break;\n        }\n      }\n      return L.icon({\n        iconUrl: selector(status),\n        shadowUrl: \"img/shadow.png\",\n        iconAnchor: [16, 37],\n        shadowAnchor: [20, 35],\n        popupAnchor: [0, -30],\n      });\n    };\n    if (window.geojsonLayer !== undefined) {\n      window.lfMap.removeLayer(window.geojsonLayer);\n    }\n\n    function onEachFeature(feature, layer) {\n      console.log(\"called for each feature\");\n      layer.bindPopup(\n        \"<strong>\" +\n          feature.properties.status +\n          \"</strong></br><hr>\" +\n          feature.properties.navn +\n          '</br><a href=\"https://datacvr.virk.dk/data/visenhed?enhedstype=produktionsenhed&id=' +\n          feature.properties[\"p-nummer\"] +\n          '\" target=\"_blank\">Se mere her</a>'\n      );\n    }\n\n    window.geojsonLayer = L.geoJSON(data, {\n      onEachFeature: onEachFeature,\n      pointToLayer: function (feature, latlng) {\n        return L.marker(latlng, {\n          icon: costumIcon(feature.properties.status),\n        });\n      },\n    }).addTo(window.lfMap);\n  }\n\n  render() {\n    return <div id='map' style={style}></div>;\n  }\n}\n\nexport default MapData;\n","import React from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport {\r\n  Template,\r\n  TemplatePlaceholder,\r\n  TemplateConnector,\r\n} from \"@devexpress/dx-react-core\";\r\n\r\nimport {\r\n  SortingState,\r\n  IntegratedSorting,\r\n  FilteringState,\r\n  IntegratedFiltering,\r\n  DataTypeProvider\r\n} from \"@devexpress/dx-react-grid\";\r\n\r\nimport {\r\n  Grid,\r\n  VirtualTable,\r\n  TableHeaderRow,\r\n  TableFilterRow,\r\n  TableColumnResizing\r\n} from \"@devexpress/dx-react-grid-material-ui\";\r\n\r\nconst getColor = status => {\r\n  if (status === \"Fraflytter\") return \"orange\";\r\n  else if (status === \"Tilflytter\") return \"green\";\r\n  else if (status === \"Nystartet\") return \"blue\";\r\n  else if (status === \"Ophørt\") return \"red\";\r\n  else return \"blue\";\r\n};\r\n\r\nconst StatusFormatter = ({ value }) => {\r\n  let color = getColor(value);\r\n  return <b style={{ color: color }}>{value}</b>;\r\n};\r\n\r\nconst StatusTypeProvider = props => (\r\n  <DataTypeProvider formatterComponent={StatusFormatter} {...props} />\r\n);\r\n\r\nconst PnummerFormatter = ({ value }) => {\r\n  let link = `https://datacvr.virk.dk/data/visenhed?enhedstype=produktionsenhed&id=${value}`;\r\n  return (\r\n    <a href={link} target=\"_blank\" rel=\"noopener noreferrer\">\r\n      {value}\r\n    </a>\r\n  );\r\n};\r\n\r\nconst PnummerProvider = props => (\r\n  <DataTypeProvider formatterComponent={PnummerFormatter} {...props} />\r\n);\r\n\r\n\r\nconst getRowId = row => {\r\n  return row[\"keyIndex\"];\r\n};\r\n\r\nclass GridData extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      rows: [],\r\n      data: [],\r\n      sorting: [{ columnName: \"hovedbranche\", direction: \"desc\" }],\r\n      statusColumns: [\"status\"],\r\n      pcols: [\"p-nummer\"],\r\n      grouping: [{ columnName: \"status\" }]\r\n    };\r\n    this.changeSorting = sorting => this.setState({ sorting });\r\n    this.changeGrouping = grouping => this.setState({ grouping });\r\n  }\r\n\r\n  componentDidMount() {}\r\n\r\n  componentDidUpdate() {}\r\n\r\n  render() {\r\n    const updateData = this.props.updateData;\r\n    const total = this.props.total;\r\n    const totalRendered = this.props.totalRendered;\r\n    const cols = [\r\n      { name: \"status\", title: \"Status\" },\r\n      { name: \"cvr-nummer\", title: \"CVR nummer\" },\r\n      { name: \"p-nummer\", title: \"P nummer\" },\r\n      { name: \"hovedbranchekode\", title: \"Branche (kode)\" },\r\n      { name: \"hovedbranche\", title: \"Branche\" },\r\n      { name: \"virksomhedsform\", title: \"virksomhedsform\" },\r\n      { name: \"navn\", title: \"Virksomhedsnavn\" },\r\n      { name: \"fuldt ansvarlige deltagere\", title: \"Kontaktperson\" },\r\n      { name: \"maanedsbeskaeftigelse_antalansatteinterval\", title: \"Antal ansatte\" },\r\n      { name: \"kommunekode\", title: \"Kommunekode\" },\r\n      { name: \"vejnavn\", title: \"Vejnavn\" },\r\n      { name: \"husnummer\", title: \"Husnummer\" },\r\n      { name: \"postnummer\", title: \"Postnummer\" },\r\n      { name: \"postdistrikt\", title: \"By\" },\r\n      { name: \"emailadresse\", title: \"Email\" },\r\n      { name: \"startdato\", title: \"Startdato cvr\" },\r\n      { name: \"indlæst dato\", title: \"Indlæst dato\" }\r\n    ];\r\n\r\n    const defaultColumnWidths = [\r\n      { columnName: \"status\", width: 100 },\r\n      { columnName: \"cvr-nummer\", width: 100 },\r\n      { columnName: \"p-nummer\", width: 100 },\r\n      { columnName: \"hovedbranchekode\", width: 100 },\r\n      { columnName: \"hovedbranche\", width: 150 },\r\n      { columnName: \"virksomhedsform\", width: 150 },\r\n      { columnName: \"navn\", width: 150 },\r\n      { columnName: \"fuldt ansvarlige deltagere\", width: 120 },\r\n      { columnName: \"maanedsbeskaeftigelse_antalansatteinterval\", width: 120 },\r\n      { columnName: \"kommunekode\", width: 120 },\r\n      { columnName: \"vejnavn\", width: 120 },\r\n      { columnName: \"husnummer\", width: 120 },\r\n      { columnName: \"postnummer\", width: 120 },\r\n      { columnName: \"postdistrikt\", width: 120 },\r\n      { columnName: \"emailadresse\", width: 120 },\r\n      { columnName: \"startdato\", width: 120 },\r\n      { columnName: \"indlæst dato\", width: 120 }\r\n    ];\r\n\r\n    const { statusColumns } = this.state;\r\n    const pc = this.state.pcols;\r\n    const rows = this.props.data.map((feature, index) => {\r\n      feature.properties[\"keyIndex\"] = index;\r\n      let s = feature.properties['fuldt ansvarlige deltagere'];\r\n      if(s !== null && s.length > 0)\r\n        feature.properties['fuldt ansvarlige deltagere'] = s.replace(/\"/g,'');\r\n      if(s === \"NULL\")\r\n        feature.properties['fuldt ansvarlige deltagere'] = \"\";\r\n      return feature.properties;\r\n    });\r\n\r\n    // console.log(rows);\r\n    return (\r\n      <Paper\r\n        style={{\r\n          height: \"100%\"\r\n        }}\r\n      >\r\n  <h6 style={{textAlign:\"center\"}}>{`${totalRendered} ud af ${total}`}</h6>\r\n        <Grid\r\n          rows={rows}\r\n          columns={cols}\r\n          getRowId={getRowId}\r\n          style={{\r\n            height: \"100%\"\r\n          }}\r\n        >\r\n          <FilteringState defaultFilters={[]} />\r\n          <IntegratedFiltering />\r\n          <SortingState\r\n            defaultSorting={[{ columnName: \"status\", direction: \"desc\" }]}\r\n          />\r\n          <IntegratedSorting />\r\n          <StatusTypeProvider for={statusColumns} />\r\n          <PnummerProvider for={pc} />\r\n          <VirtualTable height={600} />\r\n          <TableColumnResizing defaultColumnWidths={defaultColumnWidths} />\r\n          <TableHeaderRow showSortingControls />\r\n          <TableFilterRow />\r\n          <Template name=\"root\">  \r\n            <TemplateConnector>  \r\n              {({ rows: filteredRows }) => { \r\n                console.log(\"filteredRows\"); \r\n                console.log(filteredRows);\r\n                updateData(filteredRows);  \r\n                return <TemplatePlaceholder />;  \r\n              }}  \r\n            </TemplateConnector>  \r\n          </Template>\r\n        </Grid>\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n/*\r\n\r\n                <FilteringState defaultFilters={[]} />\r\n                <IntegratedFiltering />\r\n                <SortingState defaultSorting={[{ columnName: 'status', direction: 'desc' }]} />\r\n                <IntegratedSorting />\r\n                <StatusTypeProvider \r\n                    for={statusColumns}\r\n                />\r\n                <VirtualTable\r\n                    height=\"auto\"\r\n                />\r\n                <TableColumnResizing defaultColumnWidths={defaultColumnWidths} />\r\n                <TableHeaderRow showSortingControls />\r\n                <TableFilterRow />\r\n\r\n*/\r\nexport default GridData;\r\n","import React from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { VictoryBar, VictoryChart, Bar, VictoryTheme } from \"victory\";\r\n\r\nconst getSummaryData = dat => {\r\n  let data = dat.map(feature => feature.properties);\r\n  let tilfl = data.filter(x => {\r\n    return x.status === \"Tilflytter\";\r\n  }).length;\r\n  let frafl = data.filter(x => x.status === \"Fraflytter\").length;\r\n  let oph = data.filter(x => x.status === \"Ophørt\").length;\r\n  let ny = data.filter(x => x.status === \"Nystartet\").length;\r\n  return [\r\n    { x: \"Fraflytter\", y: frafl },\r\n    { x: \"Tilflytter\", y: tilfl },\r\n    { x: \"Ophørt\", y: oph },\r\n    { x: \"Nystartet\", y: ny }\r\n  ];\r\n};\r\n\r\nclass GraphData extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      clicked: false,\r\n      style: {\r\n        data: { fill: \"tomato\" }\r\n      }\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const handleMouseOver = () => {\r\n      const fillColor = this.state.clicked ? \"blue\" : \"tomato\";\r\n      const clicked = !this.state.clicked;\r\n      this.setState({\r\n        clicked,\r\n        style: {\r\n          data: { fill: fillColor }\r\n        }\r\n      });\r\n    };\r\n\r\n    let catData = getSummaryData(this.props.data);\r\n\r\n    return (\r\n      <div>\r\n        <Paper style={{ height: 800, width:800, margin:'auto' }}>\r\n\r\n          <VictoryChart\r\n            height={200}\r\n            width={300}\r\n            theme={VictoryTheme.material}\r\n            domainPadding={15}\r\n          >\r\n            <VictoryBar\r\n              barWidth={8}\r\n              dataComponent={<Bar events={{ onMouseOver: handleMouseOver }} />}\r\n              style={{\r\n                data: {\r\n                  fill: d => {\r\n                    if (d.datum.x === \"Fraflytter\") return \"orange\";\r\n                    if (d.datum.x === \"Tilflytter\") return \"green\";\r\n                    if (d.datum.x === \"Ophørt\") return \"red\";\r\n                    if (d.datum.x === \"Nystartet\") return \"blue\";\r\n                  }\r\n                }\r\n              }}\r\n              data={catData}\r\n              labels={d => d.datum.y}\r\n            />\r\n          </VictoryChart>\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GraphData;\r\n","import React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nexport default function Title(){\r\n    return (\r\n        <Typography variant=\"h6\" color=\"inherit\">\r\n            CVR Flyttemønster\r\n        </Typography>\r\n    );\r\n}","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\r\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\r\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst useStyles = makeStyles({\r\n  list: {\r\n    width: 450\r\n  },\r\n  fullList: {\r\n    width: \"auto\"\r\n  },\r\n  nested: {\r\n    paddingLeft: 30\r\n  }\r\n});\r\n\r\nexport default function TemporaryDrawer(props) {\r\n  const classes = useStyles();\r\n\r\n  const handleDrawer = props.handleDrawer;\r\n  const filterCols = props.filterCols;\r\n  const handleCheckedFilters = props.handleCheckedFilters;\r\n  const reset = props.reset;\r\n  const doFilter = props.doFilter;\r\n  const filterWords = props.filterWords;\r\n\r\n  const [opened, setOpened] = React.useState({\r\n    status: false,\r\n    postdistrikt: false,\r\n    postnummer: false\r\n  });\r\n\r\n  \r\n  const handleClick = text => { \r\n    setOpened({\r\n      ...opened,\r\n      [text]: !opened[text]\r\n    });\r\n  };\r\n  \r\n\r\n  const _list = (cols,key) => {\r\n    return cols[key].map((col, index) => (\r\n      <ListItem key={key + \"_\" + index} button className={classes.nested}>\r\n        <ListItemText primary={Object.keys(col)[0]} />\r\n        <ListItemSecondaryAction>\r\n          <Checkbox\r\n            checked={Object.values(col)[0]}\r\n            onChange={(e) => handleCheckedFilters(key + \"_\" + Object.keys(col)[0], e)}\r\n            edge=\"end\"\r\n          />\r\n        </ListItemSecondaryAction>\r\n      </ListItem>\r\n    ));\r\n  }\r\n  const sideList = (categories, cols) => {\r\n    let comps = {};\r\n    categories.forEach(categorie => {\r\n      if (cols[categorie]) {\r\n        comps[categorie] = _list(cols,categorie);\r\n      }  \r\n    });\r\n    \r\n    return (\r\n      <div className={classes.list} role=\"presentation\">\r\n        <List>\r\n        <ListItem>\r\n            <ListItemIcon>\r\n              <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={doFilter}>\r\n                Filtrere\r\n              </Button>\r\n            </ListItemIcon>\r\n            <ListItemSecondaryAction>\r\n              <Button variant=\"contained\" color=\"secondary\" size=\"small\" onClick={reset}>\r\n                Nulstil\r\n              </Button>\r\n            </ListItemSecondaryAction>\r\n          </ListItem>\r\n        </List>\r\n        <List dense>\r\n          {categories.map((text, index) => (\r\n            <React.Fragment key={\"cat_\"+index}>\r\n              <ListItem button key={text} onClick={() => handleClick(text)}>\r\n                <ListItemText primary={text} />\r\n                {opened[text] ? <ExpandLess /> : <ExpandMore />}\r\n              </ListItem>\r\n              <Collapse in={opened[text]} timeout=\"auto\" unmountOnExit>\r\n                <List component=\"div\" disablePadding dense>\r\n                  {comps[text]}\r\n                </List>\r\n              </Collapse>\r\n            </React.Fragment>\r\n          ))}\r\n        </List>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {/* <Button onClick={toggleDrawer('right', true)}>Open Right</Button> */}\r\n      <Drawer anchor=\"right\" open={props.drawerOpen} onClose={handleDrawer}>\r\n        {sideList(filterWords, filterCols)}\r\n      </Drawer>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { InputLabel } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\nroot: {\r\n    flexGrow: 1\r\n  },\r\n  container: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 200\r\n  }\r\n}));\r\n\r\n\r\n\r\nfunction LoginComponent(props){\r\n    const classes = useStyles();\r\n    \r\n    // const [loginData, setLoginData] = React.useState({\r\n    //     email:{value:\"\", error:false, helperText:\"*\"},\r\n    //     password: {value:\"\", error:false, helperText:\"*\"},\r\n    // });\r\n\r\n    // const handleInputChange = (event) =>{\r\n    //     const target = event.target;\r\n    //     const value = target.value;\r\n    //     const name = target.name;\r\n\r\n    //     setLoginData({\r\n    //         ...loginData,\r\n    //         [name]: {\r\n    //             ...loginData[name],\r\n    //             value:value\r\n    //         }\r\n    //     })\r\n    // } \r\n\r\n    const loginData = props.loginData;\r\n    const handleInputChange = props.handleLoginDatachange;\r\n    const errorMessage = props.errorMessage;\r\n\r\n    return (\r\n        <>\r\n            <Grid item xs={3}>\r\n                <InputLabel>E-mail/brugernavn</InputLabel>\r\n                <TextField \r\n                     \r\n                    id=\"standard-basic\" \r\n                    label=\"\" \r\n                    name=\"user\"\r\n                    variant=\"standard\"\r\n                    placeholder=\"\"\r\n                    InputLabelProps={{shrink:false}}\r\n                    value={loginData.user.value}\r\n                    error={errorMessage}\r\n                    helperText={errorMessage ? \"Der var fejl ved login. Prøv igen\":\"\"}\r\n                    onChange={handleInputChange}\r\n                    />\r\n            </Grid>\r\n            \r\n            <Grid item xs={3}>\r\n                <InputLabel>Adgangskode</InputLabel>\r\n                <TextField \r\n                    type=\"password\" \r\n                     \r\n                    id=\"standard-basic\" \r\n                    label=\"\" \r\n                    name=\"password\"\r\n                    variant=\"standard\"\r\n                   // error={loginData.password.value.length < 3}\r\n                    value={loginData.password.value}\r\n                    onChange={handleInputChange}\r\n                    />\r\n            </Grid>\r\n            \r\n        </> \r\n    );\r\n}\r\n\r\nexport default LoginComponent;\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\n\r\nexport default function CreateUserDialog(props) {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const [userInfo, setUserInfo] = React.useState({\r\n    name: {value:\"\", error:false, helperText:\"\"},\r\n    email: {value:\"\", error:false, helperText:\"\"},\r\n    organisation:{value:\"\", error:false, helperText:\"\"},\r\n    password:{value:\"\", error:false, helperText:\"\"},\r\n    password2:{value:\"\", error:false, helperText:\"\"},\r\n    consent: {value:false, error:false, helperText:\"\"},\r\n    btnDisabled : true\r\n  });\r\n\r\n\r\n\r\n  const isDisabled = () =>  (displayError(\"name\") || displayError(\"email\") || displayError(\"organisation\")\r\n                              || displayError(\"password\") || displayError(\"password2\") || !userInfo.consent.value\r\n                            )\r\n  \r\n  const displayError = (name) => {\r\n    if(name === \"password2\" \r\n      && userInfo[name].value.length < 2\r\n      && userInfo.password.value !== userInfo.password2.value){\r\n        console.log(userInfo.password.value,\" and \",userInfo.password2.value,\" are not equal\")\r\n        return true;\r\n      }\r\n\r\n    if(userInfo[name].value.length < 2) return true;\r\n\r\n    return false\r\n    \r\n  }\r\n\r\n  const handleInputChange = (event) => {\r\n    const target = event.target;\r\n    const value = target.type === \"checkbox\" ? target.checked : target.value;\r\n    const name = target.name;\r\n\r\n    setUserInfo({\r\n      ...userInfo,\r\n      [name]:{\r\n        ...userInfo[name],\r\n        value:value,\r\n      //  error: displayError(name)\r\n      },\r\n      btnDisabled: isDisabled()\r\n    });\r\n\r\n  }\r\n\r\n  \r\n  \r\n  const handleRegister = () => {\r\n    let data = {\r\n      name: userInfo.name.value,\r\n      email: userInfo.email.value,\r\n      organisation: userInfo.organisation.value,\r\n      password: userInfo.password.value\r\n    }\r\n    props.handleRegister(data);\r\n   // props.handleCreateDialogClose();\r\n  }\r\n\r\n  // const handleOpen = props.handleCreateDialogOpen;\r\n  const handleDialogClose = props.handleCreateDialogClose;\r\n  const errorMessage = props.errorMessage;\r\n\r\n  return (\r\n    <div>\r\n      \r\n      <Dialog open={props.isRegisterFormShown} onClose={handleDialogClose} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Opret dig som bruger</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n          </DialogContentText>\r\n          {\r\n            errorMessage && <Alert severity=\"error\">{errorMessage}</Alert>\r\n          }\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            name=\"name\"\r\n            id=\"name\"\r\n            label=\"Navn:\"\r\n            value={userInfo.name.value}\r\n            error={userInfo.name.error}\r\n            helperText={userInfo.name.helperText}\r\n            onChange={handleInputChange}\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"organisation\"\r\n            name=\"organisation\"\r\n            label=\"Organisation:\"\r\n            value={userInfo.organisation.value}\r\n            onChange={handleInputChange}\r\n            error={userInfo.organisation.error}\r\n            helperText={userInfo.organisation.helperText}\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"email\"\r\n            name=\"email\"\r\n            label=\"E-mail/brugernavn\"\r\n            type=\"email\"\r\n            value={userInfo.email.value}\r\n            error={userInfo.email.error}\r\n            helperText={userInfo.email.helperText}\r\n            onChange={handleInputChange}\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            label=\"Adganskode:\"\r\n            type=\"password\"\r\n            value={userInfo.password.value}\r\n            error={userInfo.password.error}\r\n            helperText={userInfo.password.helperText}\r\n            onChange={handleInputChange}\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"password2\"\r\n            name=\"password2\"\r\n            label=\"Gentag adgangskode:\"\r\n            type=\"password\"\r\n            value={userInfo.password2.value}\r\n            error={userInfo.password2.error}\r\n            helperText={userInfo.password2.helperText}\r\n            onChange={handleInputChange}\r\n            fullWidth\r\n          />\r\n          <FormControlLabel\r\n            control={<Checkbox \r\n                        checked={userInfo.consent.value}\r\n                        name=\"consent\"\r\n                        onChange={handleInputChange} />\r\n            }\r\n            \r\n            label=\"Med min oprettelse som bruger giver jeg mit samtykke til, at mine oplysninger bliver opbevaret, således at projektet kan kontakte mig, fx. ifm. driftsforstyrrelser, nye versioner, nye tiltag, mv.\"\r\n          />\r\n          {!userInfo.consent.value &&\r\n            <FormHelperText error>Du skal give samtykke</FormHelperText>\r\n          }\r\n          {/* {userInfo.btnDisabled &&\r\n            <FormHelperText error>Alle felter skal udfyldes korrekt.</FormHelperText>\r\n          } */}\r\n          \r\n          \r\n        </DialogContent>\r\n        <DialogActions style={{justifyContent: 'center'}} >\r\n          \r\n          <Button  disabled={!userInfo.consent.value} variant=\"contained\" onClick={handleRegister} color=\"primary\">\r\n            Opret\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n// import Button from '@material-ui/core/Button';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n// import ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n// import InboxIcon from '@material-ui/icons/MoveToInbox';\r\n// import DraftsIcon from '@material-ui/icons/Drafts';\r\n// import SendIcon from '@material-ui/icons/Send';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n\r\nconst StyledMenu = withStyles({\r\n  paper: {\r\n    border: '1px solid #d3d4d5',\r\n  },\r\n})((props) => (\r\n  <Menu\r\n    elevation={0}\r\n    getContentAnchorEl={null}\r\n    anchorOrigin={{\r\n      vertical: 'bottom',\r\n      horizontal: 'center',\r\n    }}\r\n    transformOrigin={{\r\n      vertical: 'top',\r\n      horizontal: 'center',\r\n    }}\r\n    {...props}\r\n  />\r\n));\r\n\r\nconst StyledMenuItem = withStyles((theme) => ({\r\n  root: {\r\n    '&:focus': {\r\n      backgroundColor: theme.palette.primary.main,\r\n      '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\r\n        color: theme.palette.common.white,\r\n      },\r\n    },\r\n  },\r\n}))(MenuItem);\r\n\r\nexport default function Logout(props) {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        aria-controls=\"customized-menu\"\r\n        aria-haspopup=\"true\"\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={handleClick}\r\n      >\r\n        <AccountCircleIcon/>\r\n      </IconButton>\r\n      <StyledMenu\r\n        id=\"customized-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        \r\n        <StyledMenuItem\r\n         onClick = {props.handleLogout}\r\n        >\r\n          {/* <ListItemIcon>\r\n            <InboxIcon fontSize=\"small\" />\r\n          </ListItemIcon> */}\r\n          <ListItemText primary=\"Log ud\" />\r\n        </StyledMenuItem>\r\n      </StyledMenu>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\n\nimport Typography from \"@material-ui/core/Typography\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\n\nimport moment from \"moment\";\nimport \"moment/locale/da\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport CloudDownload from \"@material-ui/icons/CloudDownload\";\nimport Map from \"@material-ui/icons/Map\";\nimport TableChart from \"@material-ui/icons/TableChart\";\nimport BarChart from \"@material-ui/icons/BarChart\";\nimport MomentUtils from \"@date-io/moment\";\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\";\nimport { DatePicker } from \"@material-ui/pickers\";\nimport Button from \"@material-ui/core/Button\";\nimport Link from \"@material-ui/core/Link\";\nimport Menu from \"@material-ui/core/Menu\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport MapData from \"./Map.js\";\nimport GridData from \"./Grid.js\";\nimport GraphData from \"./Graph.js\";\nimport Title from \"./components/Title\";\n\nimport \"./App.css\";\nimport classnames from \"classnames\";\nimport ReactExport from \"react-data-export\";\nimport jQuery from \"jquery\";\nimport { navigate } from \"@reach/router\";\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\nimport TemporaryDrawer from \"./Drawer\";\nimport LoginComponent from \"./components/Login/Login\";\nimport CreateUserDialog from \"./components/Register/create\";\nimport Logout from \"./components/Logout\";\n\nmoment.locale(\"da\");\n\nconst ExcelFile = ReactExport.ExcelFile;\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\nconst filterWords = [\"status\", \"virksomhedsform\", \"hovedbranche\"];\n\nconst styles = (theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  container: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: 200,\n  },\n  dense: {\n    marginTop: 19,\n  },\n  menu: {\n    width: 300,\n  },\n  progress: {\n    margin: theme.spacing(1) * 2,\n  },\n  nested: {\n    paddingLeft: theme.spacing(4),\n  },\n});\n\nconst theme = createMuiTheme({\n  typography: {\n    useNextVariants: true,\n    suppressDeprecationWarnings: true,\n  },\n});\n\nfunction uniqueValues(colValues) {\n  let vals = [...new Set(colValues)];\n  return vals;\n}\n\nconst getVirkForm = (form) => {\n  switch (form) {\n    case 10:\n      return \"Enkeltmandsvirksomhed\";\n    case 15:\n      return \"Personligt ejet Mindre Virksomhed\";\n    case 20:\n      return \"Dødsbo\";\n    case 30:\n      return \"Interessentskab\";\n    case 40:\n      return \"Kommanditselskab\";\n    case 45:\n      return \"Medarbejderinvesteringsselskab\";\n    case 50:\n      return \"Partrederi\";\n    case 60:\n      return \"Aktieselskab\";\n    case 70:\n      return \"Kommanditaktieselskab/Partnerskab\";\n    case 80:\n      return \"Anpartsselskab\";\n    case 81:\n      return \"Iværksætterselskab\";\n    case 90:\n      return \"Fond\";\n    case 100:\n      return \"Erhvervsdrivende fond\";\n    case 110:\n      return \"Forening\";\n    case 115:\n      return \"Frivillig forening\";\n    case 130:\n      return \"Andelselskab(-forening)\";\n    case 140:\n      return \"Andelselskab(-forening) med begrænset ansvar\";\n    case 150:\n      return \"Forening eller selskab med begrænset ansvar\";\n    case 151:\n      return \"Selskab med begrænset ansvar\";\n    case 152:\n      return \"Forening med begrænset ansvar\";\n    case 160:\n      return \"Europæisk Økonomisk Firmagruppe\";\n    case 170:\n      return \"Filial af udenlandsk aktieselskab, kommanditakties\";\n    case 180:\n      return \"Filial af udenlandsk anpartselskab eller selskab\";\n    case 190:\n      return \"Filial af udenlandsk virksomhed med begrænset ansv\";\n    case 195:\n      return \"SCE-selskab\";\n    case 196:\n      return \"Filial af SCE-selskab\";\n    case 200:\n      return \"Filial af anden udenlandsk virksomhed\";\n    case 210:\n      return \"Anden udenlandsk virksomhed\";\n    case 220:\n      return \"Fast forretningssted af Europæisk økonomisk Firmag\";\n    case 230:\n      return \"Offentlige arbejdsplads\";\n    case 235:\n      return \"Offentlige arbejdsplads\";\n    case 245:\n      return \"Offentlige arbejdsplads\";\n    case 250:\n      return \"Offentlige arbejdsplads\";\n    case 260:\n      return \"Folkekirkelige institutioner\";\n    case 270:\n      return \"Enhed under oprettelse i Erhvervs- og Selskabsstyr\";\n    case 280:\n      return \"Øvrige virksomhedsformer\";\n    case 285:\n      return \"Særlig finansiel virksomhedsform\";\n    case 290:\n      return \"SE-selskab\";\n    case 291:\n      return \"Filial af SE-selskab\";\n    case 990:\n      return \"Uoplyst virksomhedsform\";\n    default:\n      return form;\n  }\n};\n\nfunction uniqueValuesGroupedByKey(arrOfObj, keys) {\n  let ret = {};\n\n  function uniqueElemsOfSameKey(_arrOfObj, key) {\n    const values = _arrOfObj.map((elem) => elem[key]);\n    let ret = uniqueValues(values);\n    ret = ret.map((elem) => ({ [elem]: false }));\n    return ret;\n  }\n\n  keys.forEach((key) => {\n    ret[key] = uniqueElemsOfSameKey(arrOfObj, key);\n  });\n\n  return ret;\n}\n\nfunction TabContainer(props) {\n  return <div>{props.children}</div>;\n}\n\nTabContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: 0,\n      startDate: moment()\n        .subtract(1, \"months\")\n        .startOf(\"month\")\n        .format(\"YYYY-MM-DD\"),\n      endDate: moment()\n        .subtract(1, \"months\")\n        .endOf(\"month\")\n        .format(\"YYYY-MM-DD\"),\n      data: [],\n      kommuner: [],\n      komkode: this.props.komnr, // || '165',\n\n      csvData: [],\n      loading: true,\n      completed: 0,\n      canSendRequest: false,\n      filterOpen: false,\n      drawerOpen: false,\n      alertOpen: false,\n      alertMessage: \"\",\n      uniqueVals: {},\n      dataToRender: [],\n      isLoginShown: true,\n      isRegisterFormShown: false,\n      sessionId: sessionStorage.getItem(\"sessionId\") || \"\",\n      loginData: {\n        user: { value: \"\", error: false, helperText: \"*\" },\n        password: { value: \"\", error: false, helperText: \"*\" },\n      },\n      registrationErrorMessage: \"\",\n      loginErrorMessage: false,\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleStart = this.handleStart.bind(this);\n    this.handleEnd = this.handleEnd.bind(this);\n    this.handleSelect = this.handleSelect.bind(this);\n    this.handleDoneClick = this.handleDoneClick.bind(this);\n    this.handleFilterOpen = this.handleFilterOpen.bind(this);\n    this.handleFilterClose = this.handleFilterClose.bind(this);\n    this.handleDrawerOpen = this.handleDrawerOpen.bind(this);\n    this.handleCheckedFilters = this.handleCheckedFilters.bind(this);\n    this.reset = this.reset.bind(this);\n    this.updateRenderDataFromTable = this.updateRenderDataFromTable.bind(this);\n    this.doFilter = this.doFilter.bind(this);\n    this.onAlertClose = this.onAlertClose.bind(this);\n    this.handleCreateDialogOpen = this.handleCreateDialogOpen.bind(this);\n    this.handleCreateDialogClose = this.handleCreateDialogClose.bind(this);\n    this.handleLogin = this.handleLogin.bind(this);\n    this.handleLogout = this.handleLogout.bind(this);\n    this.handleRegister = this.handleRegister.bind(this);\n    this.handleLoginDatachange = this.handleLoginDatachange.bind(this);\n    this.db = \"erhvervsinfo\";\n  }\n\n  onAlertClose() {\n    this.setState({ alertOpen: false });\n  }\n\n  handleLoginDatachange(event) {\n    let that = this;\n    console.log(\"I was called!!!\");\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n\n    that.setState({\n      loginData: {\n        ...this.state.loginData,\n        [name]: {\n          ...this.state.loginData[name],\n          value: value,\n        },\n      },\n    });\n  }\n\n  doFilter() {\n    const uniqueVals = this.state.uniqueVals;\n    const filteredCategories = Object.keys(uniqueVals);\n    let filters = {};\n    filteredCategories.forEach((cat) => {\n      let temp = uniqueVals[cat];\n\n      filters[cat] = temp\n        .filter((obj) => {\n          return Object.values(obj)[0] === true;\n        })\n        .map((elem) => {\n          return Object.keys(elem)[0];\n        });\n    });\n    const dataToRender = this.state.dataToRender;\n    const data = dataToRender.filter((row) => {\n      let res = true;\n      filteredCategories.forEach((key) => {\n        if (\n          filters[key].length > 0 &&\n          filters[key].indexOf(row.properties[key]) === -1\n        )\n          res = false;\n      });\n      return res;\n    });\n    const message = `${data.length} ud af ${this.state.data.length}`;\n    this.setState({\n      dataToRender: data,\n      drawerOpen: false,\n      alertMessage: message,\n      alertOpen: true,\n    });\n  }\n\n  updateRenderDataFromTable(filteredRows) {\n    this.setState({ csvData: filteredRows });\n  }\n\n  reset() {\n    this.setState({\n      dataToRender: this.state.data,\n      uniqueVals: uniqueValuesGroupedByKey(\n        this.state.data.map((feature) => feature.properties),\n        filterWords\n      ),\n    });\n  }\n\n  handleCheckedFilters(text, event) {\n    let [group, name] = text.split(\"_\");\n    let checkedGroup = this.state.uniqueVals[group];\n    let indexToUpdate = checkedGroup.findIndex(\n      (elem) => Object.keys(elem)[0] === name\n    );\n    let elementToUpdate = checkedGroup[indexToUpdate];\n    //Toggle to false or true\n    elementToUpdate[name] = !elementToUpdate[name];\n\n    this.setState({\n      uniqueVals: {\n        ...this.state.uniqueVals,\n        [group]: [\n          ...checkedGroup.slice(0, indexToUpdate),\n          elementToUpdate,\n          ...checkedGroup.slice(indexToUpdate + 1),\n        ],\n      },\n    });\n  }\n\n  handleFilterOpen() {\n    this.setState({ filterOpen: !this.state.filterOpen });\n  }\n\n  handleLogout() {\n    let that = this;\n    let sessionUrl = \"https://offentligedata.admin.gc2.io/api/v2/session/stop\";\n    jQuery.get(sessionUrl, function (res) {\n      if (res && res.success) {\n        sessionStorage.removeItem(\"sessionId\");\n        that.setState({\n          sessionId: \"\",\n          data: [],\n          csvData: [],\n          dataToRender: [],\n        });\n        if (window.lfMap && window.geojsonLayer) {\n          console.log(\"removelayer called\");\n          window.lfMap.removeLayer(window.geojsonLayer);\n        }\n      }\n    });\n  }\n\n  handleDrawerOpen() {\n    this.setState({ drawerOpen: !this.state.drawerOpen });\n  }\n\n  handleFilterClose() {\n    this.setState({ filterOpen: false });\n  }\n\n  getKommuner() {\n    let komUrl =\n      `https://drayton.mapcentia.com/api/v1/sql/${this.db}?q=select right(komkode, 3)::int komkode, ` +\n      \"komnavn from data.kommune group by komkode, komnavn order by komnavn\";\n    //komUrl = \"kom.json\";\n    let that = this;\n    jQuery.ajax({\n      url: komUrl,\n      type: \"GET\",\n      dataType: \"json\",\n      success: function (res) {\n        let koms = res.features.map((feature) => feature.properties);\n        that.setState((preveState) => ({ kommuner: koms }));\n      },\n    });\n  }\n\n  handleLogin() {\n    let that = this;\n    let sessionUrl = \"https://offentligedata.admin.gc2.io/api/v2/session/start\";\n    let _loginData = {\n      user: that.state.loginData.user.value,\n      password: that.state.loginData.password.value,\n      database: that.db,\n    };\n\n    jQuery\n      .get(\n        sessionUrl,\n        _loginData,\n        function (res) {\n          if (res && res.success) {\n            sessionStorage.setItem(\"sessionId\", res.data.session_id);\n            that.setState({\n              sessionId: res.data.session_id,\n              loginErrorMessage: false,\n            });\n            console.log(\"login succeeded, session id: \", res.data.session_id);\n          }\n        },\n        \"json\"\n      )\n      .fail(function (res) {\n        that.setState({ loginErrorMessage: true });\n      });\n    //this.setState({sessionId : \"loggedin\"});\n  }\n\n  handleRegister(userObj) {\n    let that = this;\n    let userUrl = \"https://offentligedata.admin.gc2.io/api/v2/user\";\n    let sessionUrl = \"https://offentligedata.admin.gc2.io/api/v2/session/start\";\n\n    let data = {\n      name: userObj.email,\n      email: userObj.email,\n      password: userObj.password,\n      subuser: true,\n      usergroup: \"erhvervsinfo\",\n      parentdb: that.db,\n      properties: {\n        org: userObj.organisation,\n        name: userObj.name,\n      },\n    };\n\n    let _loginData = {\n      user: userObj.email,\n      password: userObj.password,\n      database: that.db,\n    };\n    console.log(\"before posting data\");\n    jQuery\n      .post(\n        userUrl,\n        JSON.stringify(data),\n        function (res) {\n          console.log(\"data posted successfully!\");\n          console.log(res);\n          if (res && res.success) {\n            jQuery.get(\n              sessionUrl,\n              _loginData,\n              function (res) {\n                if (res && res.success) {\n                  that.handleCreateDialogClose();\n                  sessionStorage.setItem(\"sessionId\", res.data.session_id);\n                  that.setState({ sessionId: res.data.session_id });\n                  console.log(\n                    \"login succeeded, session id: \",\n                    res.data.session_id\n                  );\n                }\n              },\n              \"json\"\n            );\n          } else if (res && !res.success) {\n          }\n        },\n        \"json\"\n      )\n      .fail(function (res) {\n        console.log(\"login failed, message => \", res.responseJSON.message);\n        that.setState({\n          registrationErrorMessage: that.getErrorMessage(\n            res.responseJSON.errorCode\n          ),\n        });\n      });\n  }\n\n  getErrorMessage(errorMessage) {\n    switch (errorMessage) {\n      case \"SUB_USER_ALREADY_EXISTS\":\n      case \"PARENT_USER_EXISTS_WITH_NAME\":\n      case \"USER_ALREADY_EXISTS\":\n      case \"EMAIL_ALREADY_EXISTS\":\n        return \"E-mail/brugernavn er allerede taget.\";\n      case \"WEAK_PASSWORD\":\n        return \"Adgangskode skal opfylde følgende kriterier: mindst 8 tegn langt, mindst 1 tal og mindst 1 stort bogstav\";\n      default:\n        return \"Der var en fejl ved oprettelse. Prøv igen.\";\n    }\n  }\n  getData(komkode, startDate, endDate) {\n    this.setState((preveState) => ({ csvData: [], loading: true }));\n    let that = this;\n    let sessionId = this.state.sessionId;\n    let postData = {\n      session_id: sessionId,\n      komkode: komkode,\n      startdate: startDate,\n      enddate: endDate,\n      database: that.db,\n    };\n\n    let jsonData = JSON.stringify(postData);\n\n    if (!komkode) {\n      this.setState({ loading: false });\n      return;\n    }\n\n    let newUrl =\n      \"https://offentligedata.admin.gc2.io/extensions/offentligedata/api/request\";\n\n    jQuery.ajax({\n      url: newUrl, // dataUrl,\n      type: \"POST\",\n      dataType: \"json\",\n      data: jsonData,\n      success: function (res) {\n        let csv = res.features.map((feature) => feature.properties);\n        res.features.forEach((feature) => {\n          let form = feature.properties.virksomhedsform;\n          feature.properties.virksomhedsform = getVirkForm(form);\n          let _startdato = feature.properties.startdato;\n          feature.properties.startdato =\n            _startdato && _startdato.length > 0\n              ? _startdato.substring(0, 10)\n              : \"\";\n        });\n        that.setState((prevState) => ({\n          csvData: csv,\n          data: res.features,\n          dataToRender: res.features,\n          loading: false,\n          uniqueVals: uniqueValuesGroupedByKey(csv, filterWords),\n        }));\n      },\n      // ,\n      // timeout: 15000,\n      // error: function(xhr, textStatus, errorThrown){\n      //   console.log(\"error timeout!!!!\");\n      //   that.setState({loading : false});\n      // }\n    });\n  }\n\n  handleSelect(event) {\n    event.persist();\n    this.setState((prevState) => ({ komkode: event.target.value }));\n  }\n\n  componentDidMount() {\n    console.log(\"\");\n    let { komkode, startDate, endDate } = this.state;\n    this.getData(komkode, startDate, endDate);\n    this.getKommuner();\n  }\n\n  componentWillUnmount() {}\n\n  handleChange(event, value) {\n    this.setState({ value });\n  }\n\n  handleDoneClick() {\n    let { komkode, startDate, endDate } = this.state;\n    if (!komkode) komkode = 165;\n    this.getData(komkode, startDate, endDate);\n    navigate(\"#/\" + komkode);\n  }\n\n  handleStart(date) {\n    this.setState({\n      startDate: date.format(\"YYYY-MM-DD\"),\n    });\n  }\n\n  handleEnd(date) {\n    this.setState({\n      endDate: date.format(\"YYYY-MM-DD\"),\n    });\n  }\n\n  handleCreateDialogOpen() {\n    console.log(\"Createdialog open\");\n    this.setState({\n      isRegisterFormShown: true,\n      isLoginShown: false,\n    });\n  }\n\n  handleCreateDialogClose() {\n    this.setState({\n      isRegisterFormShown: false,\n      isLoginShown: true,\n    });\n  }\n\n  render() {\n    const { value, startDate, endDate, kommuner, komkode } = this.state;\n    const locale = \"da\";\n    return (\n      <MuiThemeProvider theme={theme}>\n        <div className='app'>\n          <div className={this.state.loading ? \"loading\" : \"\"}></div>\n\n          <TemporaryDrawer\n            handleDrawer={this.handleDrawerOpen}\n            drawerOpen={this.state.drawerOpen}\n            filterCols={this.state.uniqueVals}\n            handleCheckedFilters={this.handleCheckedFilters}\n            reset={this.reset}\n            doFilter={this.doFilter}\n            filterWords={filterWords}\n          />\n\n          <CreateUserDialog\n            handleRegister={this.handleRegister}\n            isRegisterFormShown={this.state.isRegisterFormShown}\n            handleCreateDialogClose={this.handleCreateDialogClose}\n            handleCreateDialogOpen={this.handleCreateDialogOpen}\n            errorMessage={this.state.registrationErrorMessage}\n          />\n          <div className=''>\n            <AppBar position='static' color='default'>\n              <Toolbar>\n                <Grid container>\n                  <Grid item xs={2}>\n                    <Title />\n                  </Grid>\n                  {this.state.sessionId === \"\" && (\n                    <>\n                      {/* <Grid item xs={7}> */}\n                      <LoginComponent\n                        loginData={this.state.loginData}\n                        handleLoginDatachange={this.handleLoginDatachange}\n                        errorMessage={this.state.loginErrorMessage}\n                      />\n                      {/* </Grid> */}\n                      <Grid item xs={1}>\n                        <Button\n                          variant='contained'\n                          color='primary'\n                          size='small'\n                          onClick={this.handleLogin}\n                        >\n                          Log på\n                        </Button>\n                      </Grid>\n                      {/* <Grid item xs={1}>eller</Grid> */}\n                      <Grid item xs={2}>\n                        eller &nbsp;\n                        <Link\n                          color='inherit'\n                          underline='always'\n                          component='button'\n                          onClick={this.handleCreateDialogOpen}\n                          size='small'\n                        >\n                          Opret dig som bruger\n                        </Link>\n                      </Grid>\n                      {/*<Grid item xs={2}>\n                    \n                {/*</Grid>*/}\n                    </>\n                  )}\n\n                  {this.state.sessionId !== \"\" && (\n                    <>\n                      <Grid item xs={2}>\n                        <form\n                          className={classnames.container}\n                          noValidate\n                          autoComplete='off'\n                        >\n                          <TextField\n                            id='standard-select'\n                            select\n                            label='Kommune'\n                            placeholder='Placeholder'\n                            className={classnames.textField}\n                            value={this.state.komkode || \"\"}\n                            onChange={this.handleSelect}\n                            SelectProps={{\n                              native: true,\n                            }}\n                            helperText=''\n                            InputLabelProps={{ shrink: true }}\n                          >\n                            {kommuner.map((kom) => {\n                              return (\n                                <option key={kom.komkode} value={kom.komkode}>\n                                  {kom.komnavn}\n                                </option>\n                              );\n                            })}\n                          </TextField>\n                        </form>\n                      </Grid>\n                      <Grid item xs={2}>\n                        <MuiPickersUtilsProvider\n                          utils={MomentUtils}\n                          locale={locale}\n                          moment={moment}\n                        >\n                          <DatePicker\n                            value={startDate}\n                            label='Startdato'\n                            format='DD MMM YYYY'\n                            onChange={this.handleStart}\n                          />\n                        </MuiPickersUtilsProvider>\n                      </Grid>\n                      <Grid item xs={2}>\n                        <MuiPickersUtilsProvider utils={MomentUtils}>\n                          <DatePicker\n                            value={endDate}\n                            label='Slutdato'\n                            format='DD MMM YYYY'\n                            onChange={this.handleEnd}\n                          />\n                        </MuiPickersUtilsProvider>\n                      </Grid>\n                    </>\n                  )}\n\n                  {this.state.sessionId !== \"\" && (\n                    <>\n                      <Grid item xs={2}>\n                        <IconButton\n                          arial-label='Done'\n                          onClick={this.handleDoneClick}\n                        >\n                          <Tooltip title='Send'>\n                            <SendIcon />\n                          </Tooltip>\n                        </IconButton>\n                        <IconButton\n                          arial-label='Filter'\n                          onClick={this.handleDrawerOpen}\n                        >\n                          <Tooltip title='Filter'>\n                            <FilterListIcon />\n                          </Tooltip>\n                        </IconButton>\n                        {this.state.csvData.length > 0 && (\n                          <ExcelFile\n                            element={\n                              <IconButton arial-label='Excel'>\n                                <Tooltip title='Download Excel'>\n                                  <CloudDownload />\n                                </Tooltip>\n                              </IconButton>\n                            }\n                            filename={\n                              \"export_\" +\n                              komkode +\n                              \"_\" +\n                              startDate +\n                              \"_\" +\n                              endDate\n                            }\n                          >\n                            <ExcelSheet data={this.state.csvData} name='CVR'>\n                              <ExcelColumn label='Status' value='status' />\n                              <ExcelColumn\n                                label='CVR nummer'\n                                value='cvr-nummer'\n                              />\n                              <ExcelColumn label='P nummer' value='p-nummer' />\n                              <ExcelColumn\n                                label='Branche (kode)'\n                                value='hovedbranchekode'\n                              />\n                              <ExcelColumn\n                                label='Branche'\n                                value='hovedbranche'\n                              />\n                              <ExcelColumn\n                                label='virksomhedsform'\n                                value='virksomhedsform'\n                              />\n                              <ExcelColumn\n                                label='Virksomhedsnavn'\n                                value='navn'\n                              />\n                              <ExcelColumn\n                                label='Kontaktperson'\n                                value='fuldt ansvarlige deltagere'\n                              />\n                              <ExcelColumn\n                                label='kvartalbes_interval'\n                                value='Antal ansatte'\n                              />\n                              <ExcelColumn\n                                label='Kommunekode'\n                                value='kommunekode'\n                              />\n                              <ExcelColumn label='vejnavn' value='vejnavn' />\n                              <ExcelColumn\n                                label='Husnummer'\n                                value='husnummer'\n                              />\n                              <ExcelColumn\n                                label='Postnummer'\n                                value='postnummer'\n                              />\n                              <ExcelColumn label='By' value='postdistrikt' />\n                              <ExcelColumn label='Email' value='emailadresse' />\n                              <ExcelColumn\n                                label='Indlæst dato'\n                                value='indlæst dato'\n                              />\n                            </ExcelSheet>\n                          </ExcelFile>\n                        )}\n                      </Grid>\n                      <Grid item xs={1}>\n                        <Logout handleLogout={this.handleLogout} />\n                      </Grid>\n                    </>\n                  )}\n                  <Grid item xs={1}>\n                    <a \n                      href=\"http://www2.htk.dk/Teknik_og_miljoecenter/Erhvervsinfo/Vejledning_Erhvervsinfo_20201008.pdf\"\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\">\n                      <IconButton\n                        color=\"primary\"\n                      >\n                        <InfoIcon/>\n                      </IconButton>\n                    </a>\n                  </Grid>\n                </Grid>\n              </Toolbar>\n            </AppBar>\n\n            <Tabs value={value} onChange={this.handleChange} centered>\n              <Tab\n                icon={\n                  <Tooltip title='Kort'>\n                    <Map />\n                  </Tooltip>\n                }\n              />\n              <Tab\n                icon={\n                  <Tooltip title='Tabel'>\n                    <TableChart />\n                  </Tooltip>\n                }\n                aria-label='Tabel'\n              />\n              <Tab\n                icon={\n                  <Tooltip title='Histogram'>\n                    <BarChart />\n                  </Tooltip>\n                }\n              />\n            </Tabs>\n            {value === 0 && (\n              <TabContainer>\n                <MapData data={this.state.dataToRender} />\n              </TabContainer>\n            )}\n            {value === 1 && (\n              <TabContainer>\n                <GridData\n                  data={this.state.dataToRender}\n                  updateData={this.updateRenderDataFromTable}\n                  total={this.state.data.length}\n                  totalRendered={this.state.csvData.length}\n                />\n              </TabContainer>\n            )}\n            {value === 2 && (\n              <TabContainer>\n                <GraphData data={this.state.dataToRender} />\n              </TabContainer>\n            )}\n          </div>\n        </div>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nexport default withStyles(styles)(App);\n","import React from \"react\";\r\nimport { createHistory, LocationProvider, Router } from \"@reach/router\";\r\nimport createHashSource from \"hash-source\";\r\nimport App from \"./App\";\r\n\r\nlet source = createHashSource();\r\nlet history = createHistory(source);\r\n\r\nconst Home = () => (\r\n  <LocationProvider history={history}>\r\n    <Router>\r\n      <App path=\"/\" />\r\n      <App path=\"/:komnr\" />\r\n    </Router>\r\n  </LocationProvider>\r\n);\r\n\r\nexport default Home;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\n//import App from './App';\r\nimport Home from \"./Home\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(<Home />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}